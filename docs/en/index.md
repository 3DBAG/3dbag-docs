# Overview

Welcome to the documentation of the 3D BAG by the 3D geoinformation group! This is the first open 3D building data set that is generated fully automatically and covers a whole country on this level of detail.

On this page you will find information on what is the 3D BAG and how it is created, a few of the possible use cases and how does the 3D BAG relate to similar data sets in the Netherlands.

- [Data Sources](overview/sources.md) describes the data sets that are used as input for the 3D BAG.
- [Schema](schema/concepts.md) describes the structure of the 3D BAG in detail.
- [Data Formats](delivery/webservices.md) describes the different ways we deliver the 3D BAG.
- [Terms of Use](copyright.md) explains the conditions that apply when using the 3D BAG in your application.
- [Contact](contact.md) shows where you can ask questions or how can you contact us.
- And with the [Viewer](https://3dbag.nl) you can view the 3D BAG in your browser!

## What is the 3D BAG?

The 3D BAG is an up-to-date data set containing 3D building models of the Netherlands. The 3D BAG is open data. It contains 3D models at multiple levels of detail, which are generated by combining two open data sets: the building data from the [BAG](overview/sources.md#BAG) and the height data from the [AHN](overview/sources.md#AHN). The 3D BAG is updated regularly, keeping it up-to-date with the latest openly available building stock and elevation information.

<iframe width="560" height="315" src="https://www.youtube.com/embed/u84ZyD2ie48" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

The 3D BAG is also a place for experiments. It is a medium for testing ideas as we do in the 3D geoinformation research group. Based on experiences with the data, we are constantly improving our methods, and by providing our own service we retain full control over the whole process from input data, pre-processing and reconstruction to querying and using the reconstructed 3D data in urban applications. This allows us to develop, test and release improvements, or even break things, as we see best.

## Main features

- **Three [levels of detail](schema/concepts.md#level-of-detail-lod)**.
    Pick the most suitable LoD for your application from the available LoD1.2, LoD1.3 and LoD2.2.
- **Both 2D and 3D**.
    Besides the 3D models, we also offer the 2D projections of their roof surfaces with associated height references.
- **Underground and overlapping buildings and building parts removed**.
    The completely underground and overlapping buildings (eg one building "floating" above another) are excluded from the reconstruction. Buildings with parts under the terrain have their underground parts cut off.
- **Fall back to a simple model for problematic input**.
    Buildings with glass roofs, especially greenhouses, have an inconsistent point cloud in the AHN. For these buildings, that usually have a very simple shape anyways, we fall back to a simplified 3D model in order to generate usable models.
- **Quality control integrated**.
    We run our 3D models through [val3dity](https://github.com/tudelft3d/val3dity), so that you don't need to validate the 3D data yourself.
- **Available in several formats**.
    CityJSON, GeoPackage, Wavefront OBJ, PostgreSQL, WMS, WFS.


## Common applications

Some of the use cases for this data set that we know about:

- Applications related to energy use in buildings, such as estimating energy demand, retrofitting costs, finding suitable roofs for solar panels.
- Simulating the wind flow and pollutant dispersion in urban areas (eg. [Simwind](https://3d.bk.tudelft.nl/projects/simwind/))
- Calculating noise pollution in urban areas (eg. [3D Noise](https://3d.bk.tudelft.nl/projects/noise3d/))
- Analysing the urban structure and evaluating new developments.

Do you have an interesting use case for the 3D BAG? [We would love to hear about it!](contact.md)

## Relation to similar data sets

### 3D Basisvoorziening

The [3D Basisvoorziening](https://www.pdok.nl/3d-basisvoorziening) is a collection of Dutch national 3D data sets created in a collaboration of the Kadaster and the 3D geoinformation research group. It was made available in the summer of 2020. While the 3D BAG only contains objects from the BAG, the 3D Basisvoorziening also contains object from the Large Scale Topographic Map (BGT) of the Netherlands. Thus, the 3D BAG only contains buildings, while the 3D Basisvoorziening is a watertight 3D model of the whole country, including terrain objects. Furthermore, the 3D BAG only uses the AHN as height source, while the 3D Basisvoorziening also uses a yearly updated point cloud created from stereo images ([Beeldmateriaal Nederland](https://www.beeldmateriaal.nl/)).

The tools and algorithms that are used for generating the 3D Basisvoorziening, are created by the 3D geoinformation group. In fact, the LoD1.3 models in the 3D Basisvoorziening were generated with a previous, more stable version of the same algorithms that we use in the 3D BAG. Since then, we have improved the reconstruction process specifically for a better LoD2.2 reconstruction.

### 3D Geluid

The [3D Geluid](https://www.pdok.nl/3d-input-data-voor-geluidssimulaties-versie-0.3.1) data set was created in collaboration with the National Institute for Public Health and the Environment (RIVM), Ministry of Infrastructure and Water Management (Rijkswaterstaat), Interprovinciaal Overleg, Kadaster and the 3D geoinformation research group.

Both the 3D Geluid and the 3D BAG use the BAG as a basis for the buildings. While the 3D BAG uses the AHN only, the 3D Geluid data has been extended with LoD1.2 models that were generated with the current point cloud of Kadaster where the buildings are newer than AHN.

Besides building models, the 3D Geluid data also contains two additional layers that model the height of the terrain, and the sound absorption values of the various terrain objects. The building models in 3D Geluid data are LoD1.3 and represented as 2D only, since the current common noise calculation software can only handle 2D buildings (+ height attribute).

Similarly to the 3D Basisvoorziening, the LoD1.3 models in the 3D Geluid data were generated with a previous, more stable version of the same algorithms that we use in the 3D BAG.

## Future plans

- One of the most common questions related to building heights is the exact number of floors in the building. However, answering this proves to be more complex than dividing the building height by an average floor height (eg 3 meters). Thus, we have [an ongoing MSc research](https://3d.bk.tudelft.nl/education/#theses) that is investigating this topic.
- Addresses. At the moment we don't add the addresses from the BAG to the 3D BAG. We might add them in the future.
- Orientation of roof surfaces. It is already possible to query the orientation of roof surfaces in the viewer. We may store this information as attribute so that this information can be used in spatial analysis, such as for solar panel potential analysis.

## Funding

![erc_logo](../images_common/erc_logo_small.png){ align=left } *This project has received funding from the European Research Council (ERC) under the European Unions Horizon2020 Research & Innovation Programme (grant agreement no. 677312 UMnD: Urban modelling in higher dimensions).*

The technology behind the 3D BAG service was developed by the [3D Geoinformation research group](https://3d.bk.tudelft.nl/), Department of Urbanism at the Delft University of Technology. This has been done in various research projects. Funding has been received from the European Commission (ERC), the Netherlands Organization for Scientific Research (NWO), and the Amsterdam Institute of Advanced Metropolitan Solutions (AMS). The algorithms have been further improved in collaborations with partners such as RIVM, Rijkswaterstaat and Kadaster.
