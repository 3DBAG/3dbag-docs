# General summary

Welcome to the documentation of the 3D BAG by the 3D geoinformation group! We believe that this is the first open data set which is generated fully automatically and covers a whole country on this level of detail.

On this page you will find information on what is the 3D BAG and how it is created, a few of the possible use cases and how does the 3D BAG relate to similar data sets in the Netherlands.

- [Data Sources](overview/sources.md) describes the data sets that are used as input for the 3D BAG.
- [Schema](schema/concepts.md) describes the structure of the 3D BAG in detail.
- [Data Delivery](delivery/webservices.md) describes the different ways we deliver the 3D BAG.
- [Terms of Use](copyright.md) explains the conditions that apply when using the 3D BAG in your application.
- [Contact](contact.md) shows where you can ask questions or how can you contact us.
- And with the [Viewer](https://3dbag.nl) you can view the 3D BAG in your browser!

## What is the 3D BAG?

The 3D BAG is an up-to-date register of 3D building models of the Netherlands. The 3D BAG is open data. It contains 3D models in multiple levels of details, which are generated by combining two open data sets, the building data from the [BAG](overview/sources.md#BAG) and the height data from the [AHN](overview/sources.md#AHN). The 3D BAG is updated regularly, keeping it up-to-date with the latest openly available building stock and elevation information.

The 3D BAG is also a place for experiments. It is a medium for testing our ideas at the 3D geoinformation research group. We are constantly improving our methods, and by providing our own service we retain full control over the whole process. This allows us to test and release the improvements, or even break things, as we see best.

## Main features

- **Three [levels of detail](schema/concepts.md#level-of-detail-lod)**.
    Pick the most suitable LoD for your application from the available LoD1.2, LoD1.3 and LoD2.2.
- **Both 2D and 3D**.
    Besides the 3D models, we also offer the 2D projections of their roof surfaces.
- **Underground and overlapping buildings and parts removed**.
    The completely underground and overlapping buildings (eg one building "floating" above another) are excluded from the reconstruction. Buildings with parts under the terrain have their underground parts cut off.
- **Fall back to a simple model for problematic input**.
    Buildings with glass roofs, especially greenhouses, have an extremely noisy point cloud in the AHN. For these buildings, that usually have a very simple shape, we fall back to a simplified 3D model in order generate usable models.
- **Quality control integrated**.
    We run our 3D models through [val3dity](https://github.com/tudelft3d/val3dity), so that you don't need to.
- **Available in several formats**.
    Such as CityJSON, GeoPackage, Wavefront OBJ, PostgreSQL, WMS, WFS.


## Common applications

Some of the use cases for this data set that we know about:

- Applications related to energy use in buildings, such as estimating energy demand, retrofitting costs, finding suitable roofs for solar panels etc.
- Simulating the wind flow and pollutant dispersion in urban areas.
- Calculating noise pollution in urban areas (eg. [](https://3d.bk.tudelft.nl/projects/noise3d/))
- Analysing the urban structure and evaluating new developments.

Do you have an interesting use case for the 3D BAG? [We would love to hear about it!](contact.md)

## Relation to similar data sets

### 3D Basisvoorziening

The [3D Basisvoorziening](https://www.pdok.nl/3d-basisvoorziening) is a collection of Dutch national 3D data sets were created in a collaboration of the Kadaster and the 3D geoinformation research group. It was made available in the summer of 2020. While the 3D BAG only contains objects from the BAG, the 3D Basisvoorziening also contains object from the Large Scale Topographic Map (BGT) of the Netherlands. Thus, the 3D BAG only contains buildings, while the 3D Basisvoorziening is a watertight 3D model of the whole country. Furthermore, the 3D BAG only uses the AHN as height source, while the 3D Basisvoorziening also uses a yearly updated point cloud created from stereo images ([Beeldmateriaal Nederland](https://www.beeldmateriaal.nl/)). However, neither the high resolution [Beeldmateriaal Nederland](https://www.beeldmateriaal.nl/), nor the point cloud created from it is open data.

<!-- This paragraph is translated from Dutch. You can have a look what which parts (if at all) you would want to retain. -->

The buildings from the BAG are used in the 3D Basisvoorziening since the height information is acquired from the air, and the footprints of the BAG are based on the top perspective of the building. Therefore they can be reconstructed more accurately than BGT footprints, because these are based on the ground level. The footprints from the BAG however do not perfectly connect with the BGT, and therefore <a href=https://docs.geostandaarden.nl/3dbv/prod/#voorbewerking-van-bag-en-bgt>pre-processing on the 2D data</a> needs to be done to yield a watertight 3D model in the end.

The tools and algorithms that are used for generating the 3D Basisvoorziening, are created by the 3D geoinformation group. In fact, the LoD1.3 models in the 3D Basisvoorziening were generated with an older, more stable version of the same algorithms that we use in the 3D BAG.

### 3D Geluid

The [3D Geluid](https://www.pdok.nl/3d-input-data-voor-geluidssimulaties-versie-0.3.1) data set was created in collaboration with the National Institute for Public Health and the Environment (RIVM), Ministry of Infrastructure and Water Management (Rijkswaterstaat), Interprovinciaal Overleg, Kadaster and the 3D geoinformation research group.

Both the 3D Geluid and the 3D BAG use the BAG as a basis for the buildings. While the 3D BAG uses the AHN only, the 3D Geluid data has been extended with LoD1.2 models that were generated with the current point cloud of Kadaster where the buildings are newer than the AHN.

Besides building models, the 3D Geluid data also contains two additional layers that model the terrain, and the sound absorption values of the various objects. The building models in 3D Geluid data are LoD1.3 2D only, since the currently common noise calculation software can only handle 2D buildings (+ height attribute).

Similarly to the 3D Basisvoorziening, the LoD1.3 models in the 3D Geluid data were generated with an older, more stable version of the same algorithms that we use in the 3D BAG.

## Issues that we know about

- One of the most common questions related to building heights is the exact number of floors in the building. However, answering this proves to be more complex than dividing the building height by an average floor height (eg 3 meters). Thus, we have [an ongoing MSc research](https://3d.bk.tudelft.nl/education/#theses) that is investigating this topic.
- Addresses. At the moment we don't add the addresses from the BAG to the 3D BAG. We might add them in the future.

## Funding

![erc_logo](../images_common/erc_logo_small.png){ align=left } *This project has received funding from the European Research Council (ERC) under the European Unions Horizon2020 Research & Innovation Programme (grant agreement no. 677312 UMnD: Urban modelling in higher dimensions).*
