{"config":{"lang":["nl"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Algemeen overzicht \u00b6 Welkom bij de documentatie van de 3D BAG door de 3D geoinformation groep! De 3D BAG is de eerste open dataset met 3D gebouwmodellen op dit detailniveau die volledig automatisch is gegenereerd. Op deze pagina vind je algemene informatie over de 3D BAG en hoe deze is ontwikkeld, een aantal praktische toepassingen waarvoor de data gebruikt kan worden en hoe de 3D BAG in relatie staat tot andere Nederlandse datasets. Databronnen beschrijft welke (delen van) andere datasets gebruikt zijn om de 3D BAG te ontwikkelen. Schema geeft gedetailleerde informatie over de structuur van de 3D BAG. Dataformaten geeft uitleg over de formaten waarin de 3D BAG beschikbaar is en hoe deze gebruikt kunnen worden. Gebruiksvoorwaarden legt uit aan welke voorwaarden gebruikers van de 3D BAG moeten voldoen. Contact geeft aan waar je vragen kunt stellen en hoe je ons kan contacteren voor andere opmerkingen. En in de Viewer kun je de 3D BAG zien vanuit je browser! Wat is de 3D BAG? \u00b6 De 3D BAG is een up-to-date landsdekkende dataset met 3D gebouwmodellen van Nederland. De 3D BAG is open data. Het bevat 3D modellen op verscheidene detailniveaus welke zijn gegenereerd door de combinatie van twee open datasets: de pand-gegevens uit de BAG en de hoogtegegevens uit de AHN . De 3D BAG wordt regelmatig ge\u00fcpdatet met de meest recente openlijk beschikbare pand- en hoogtegegevens. De 3D BAG is eveneens een plek voor experimenten. We gebruiken de data zelf ook om nieuwe idee\u00ebn te testen in onderzoek en onderwijs binnen de 3D geoinformation onderzoeksgroep. Gebaseerd op ervaringen met de data verbeteren we constant onze methoden, en door onze eigen service te ontwikkelen en in beheer te houden, behouden we de volledige controle over het gehele proces van invoerdata, voorbewerking en reconstructie tot querying en het gebruik van de gereconstrueerde 3D data voor stedelijke toepassingen. Belangrijkste kenmerken \u00b6 Drie levels of detail . Kies de meest geschikte LoD voor je toepassing: LoD1.2, LoD1.3 of LoD2.2. Zowel 2D als 3D . Naast de 3D modellen bieden we ook 2D projecties van de dakvormen met bijgevoegde hoogtereferenties aan. Ondergrondse en met elkaar overlappende panden/panddelen niet meegenomen . Zowel volledig ondergrondse als overlappende panden (wanneer een pand boven een ander zweeft) zijn niet meegenomen in de reconstructie. Van panden met delen onder het maaiveld zijn de ondergrondse delen afgesneden. Terugval op simpele modellen bij problematische invoer . De punten van panden met glazen daken, voornamelijk kassen, zijn bijzonder chaotisch in het AHN. Voor deze panden die doorgaans een zeer simpele vorm hebben, vallen we terug op een versimpeld 3D model om alsnog bruikbare modellen te verkrijgen, ook op hogere detailniveaus. Ge\u00efntegreerde kwaliteitscontrole . Tijdens het reconstructieproces worden alle 3D modellen gevalideerd met val3dity zodat je de 3D data niet zelf hoeft te valideren. Beschikbaar in verscheidene formaten . Zoals CityJSON, GeoPackage, Wavefront OBJ, PostgreSQL, WMS en WFS. Belangrijke toepassingen \u00b6 Een aantal toepassingen van de dataset waar wij van weten: Toepassingen gerelateerd aan het energieverbruik in panden, zoals het voorspellen daarvan, retrofitkosten bepalen en geschikte daken identificeren voor zonnepanelen. Het simuleren van windstromen en de verspreiding van vervuilende stoffen in stedelijke gebieden (bijvoorbeeld Simwind ) Het berekenen van geluidsbelasting ten gevolge van verkeerslawaai (bijvoorbeeld 3D Noise ) Het analyseren van de stedelijke structuur en het evalueren van nieuwe stedelijke ontwikkelingen. Heb je de 3D BAG gebruikt voor een interessante toepassing? We horen er graag over! Relatie tot andere datasets \u00b6 3D Basisvoorziening \u00b6 De 3D Basisvoorziening is een verzameling van Nederlandse 3D datasets die gemaakt zijn in een samenwerking tussen het Kadaster en de 3D geoinformation onderzoeksgroep. De voorziening is beschikbaar gesteld in de zomer van 2020. Waar de 3D BAG zich beperkt tot 3D modellen van gebouwen uit de BAG, wordt in de 3D Basisvoorziening naast de BAG ook de Basisregistratie Grootschalige Topografie (BGT) meegenomen voor het modelleren van terreinobjecten in 3D. De 3D BAG bevat derhalve uitsluitend panden, terwijl de 3D Basisvoorziening een waterdicht 3D model van het hele land is, inclusief het terrein. Daarnaast gebruikt de 3D BAG alleen het AHN als hoogtebron, terwijl de 3D Basisvoorziening behalve het AHN ook een jaarlijks ge\u00fcpdatete puntenwolk verkregen uit stereobeelden (van Beeldmateriaal Nederland ) gebruikt. Zowel de stereobeelden als de puntenwolk die eruit verkregen wordt zijn geen open data. De tools en algoritmen die zijn gebruikt voor het genereren van de 3D Basisvoorziening zijn door de 3D geoinformation groep gemaakt. In feite zijn de LoD1.3 modellen in de 3D Basisvoorziening gegenereerd met een vorige, meer stabiele versie van dezelfde algoritmen die we gebruiken in de 3D BAG. Sindsdien hebben we het reconstructieproces verbeterd vooral gericht op een betere LoD2.2 reconstructie. 3D omgevingsmodel voor geluid \u00b6 Het 3D omgevingsmodel voor geluid is gecre\u00eberd in samenwerken met het RIVM, Rijkswaterstaat, Interprovinciaal Overleg, Kadaster en de 3D geoinformation onderzoeksgroep. Zowel het 3D omgevingsmodel voor geluid als de 3D BAG gebruiken de BAG als basis voor de panden. Waar de 3D BAG uitsluitend het AHN gebruikt, is de 3D geluidsdata uitgebreid met LoD1.2 modellen die zijn gegenereerd met de actuele puntenwolk van het Kadaster voor panden die nieuwer zijn dan het AHN. Naast gebouwmodellen, bevat de 3D geluidsdata twee aanvullende lagen, zowel voor de hoogte van het terrein als de geluidabsorptiewaarden van bodemvlakken. De gebouwmodellen in het 3D omgevingsmodel voor geluid zijn gemodelleerd als LoD1.3 modellen en in 2D beschikbaar (met de hoote-informatie als attribuutwaarden) omdat de huidige software voor geluidssimulatie alleen 2D gebouwen (+ hoogteattributen) ondersteunt. Toekomstplannen \u00b6 Een van de meest gewilde informatie gerelateerd aan pandhoogten is het exacte aantal verdiepingen in een pand. De bepaling hiervan blijkt ingewikkelder te zijn dan het standaard opdelen van de pandhoogte door een gemiddelde verdiepingshoogte (bijvoorbeeld 3 meter). We hebben momenteel dan ook een een lopend MSc-onderzoek over dit onderwerp. Adressen. Op dit moment voegen we de adressen uit de BAG niet toe aan de 3D BAG. Mogelijk zullen we dit in de toekomst wel doen. Financiering \u00b6 Dit project heeft financiering ontvangen van de Europese Commissie (ERC) onder het European Unions Horizon2020 Research & Innovation Programme (grant agreement no. 677312 UMnD: Urban modelling in higher dimensions)","title":"Algemeen"},{"location":"#algemeen-overzicht","text":"Welkom bij de documentatie van de 3D BAG door de 3D geoinformation groep! De 3D BAG is de eerste open dataset met 3D gebouwmodellen op dit detailniveau die volledig automatisch is gegenereerd. Op deze pagina vind je algemene informatie over de 3D BAG en hoe deze is ontwikkeld, een aantal praktische toepassingen waarvoor de data gebruikt kan worden en hoe de 3D BAG in relatie staat tot andere Nederlandse datasets. Databronnen beschrijft welke (delen van) andere datasets gebruikt zijn om de 3D BAG te ontwikkelen. Schema geeft gedetailleerde informatie over de structuur van de 3D BAG. Dataformaten geeft uitleg over de formaten waarin de 3D BAG beschikbaar is en hoe deze gebruikt kunnen worden. Gebruiksvoorwaarden legt uit aan welke voorwaarden gebruikers van de 3D BAG moeten voldoen. Contact geeft aan waar je vragen kunt stellen en hoe je ons kan contacteren voor andere opmerkingen. En in de Viewer kun je de 3D BAG zien vanuit je browser!","title":"Algemeen overzicht"},{"location":"#wat-is-de-3d-bag","text":"De 3D BAG is een up-to-date landsdekkende dataset met 3D gebouwmodellen van Nederland. De 3D BAG is open data. Het bevat 3D modellen op verscheidene detailniveaus welke zijn gegenereerd door de combinatie van twee open datasets: de pand-gegevens uit de BAG en de hoogtegegevens uit de AHN . De 3D BAG wordt regelmatig ge\u00fcpdatet met de meest recente openlijk beschikbare pand- en hoogtegegevens. De 3D BAG is eveneens een plek voor experimenten. We gebruiken de data zelf ook om nieuwe idee\u00ebn te testen in onderzoek en onderwijs binnen de 3D geoinformation onderzoeksgroep. Gebaseerd op ervaringen met de data verbeteren we constant onze methoden, en door onze eigen service te ontwikkelen en in beheer te houden, behouden we de volledige controle over het gehele proces van invoerdata, voorbewerking en reconstructie tot querying en het gebruik van de gereconstrueerde 3D data voor stedelijke toepassingen.","title":"Wat is de 3D BAG?"},{"location":"#belangrijkste-kenmerken","text":"Drie levels of detail . Kies de meest geschikte LoD voor je toepassing: LoD1.2, LoD1.3 of LoD2.2. Zowel 2D als 3D . Naast de 3D modellen bieden we ook 2D projecties van de dakvormen met bijgevoegde hoogtereferenties aan. Ondergrondse en met elkaar overlappende panden/panddelen niet meegenomen . Zowel volledig ondergrondse als overlappende panden (wanneer een pand boven een ander zweeft) zijn niet meegenomen in de reconstructie. Van panden met delen onder het maaiveld zijn de ondergrondse delen afgesneden. Terugval op simpele modellen bij problematische invoer . De punten van panden met glazen daken, voornamelijk kassen, zijn bijzonder chaotisch in het AHN. Voor deze panden die doorgaans een zeer simpele vorm hebben, vallen we terug op een versimpeld 3D model om alsnog bruikbare modellen te verkrijgen, ook op hogere detailniveaus. Ge\u00efntegreerde kwaliteitscontrole . Tijdens het reconstructieproces worden alle 3D modellen gevalideerd met val3dity zodat je de 3D data niet zelf hoeft te valideren. Beschikbaar in verscheidene formaten . Zoals CityJSON, GeoPackage, Wavefront OBJ, PostgreSQL, WMS en WFS.","title":"Belangrijkste kenmerken"},{"location":"#belangrijke-toepassingen","text":"Een aantal toepassingen van de dataset waar wij van weten: Toepassingen gerelateerd aan het energieverbruik in panden, zoals het voorspellen daarvan, retrofitkosten bepalen en geschikte daken identificeren voor zonnepanelen. Het simuleren van windstromen en de verspreiding van vervuilende stoffen in stedelijke gebieden (bijvoorbeeld Simwind ) Het berekenen van geluidsbelasting ten gevolge van verkeerslawaai (bijvoorbeeld 3D Noise ) Het analyseren van de stedelijke structuur en het evalueren van nieuwe stedelijke ontwikkelingen. Heb je de 3D BAG gebruikt voor een interessante toepassing? We horen er graag over!","title":"Belangrijke toepassingen"},{"location":"#relatie-tot-andere-datasets","text":"","title":"Relatie tot andere datasets"},{"location":"#3d-basisvoorziening","text":"De 3D Basisvoorziening is een verzameling van Nederlandse 3D datasets die gemaakt zijn in een samenwerking tussen het Kadaster en de 3D geoinformation onderzoeksgroep. De voorziening is beschikbaar gesteld in de zomer van 2020. Waar de 3D BAG zich beperkt tot 3D modellen van gebouwen uit de BAG, wordt in de 3D Basisvoorziening naast de BAG ook de Basisregistratie Grootschalige Topografie (BGT) meegenomen voor het modelleren van terreinobjecten in 3D. De 3D BAG bevat derhalve uitsluitend panden, terwijl de 3D Basisvoorziening een waterdicht 3D model van het hele land is, inclusief het terrein. Daarnaast gebruikt de 3D BAG alleen het AHN als hoogtebron, terwijl de 3D Basisvoorziening behalve het AHN ook een jaarlijks ge\u00fcpdatete puntenwolk verkregen uit stereobeelden (van Beeldmateriaal Nederland ) gebruikt. Zowel de stereobeelden als de puntenwolk die eruit verkregen wordt zijn geen open data. De tools en algoritmen die zijn gebruikt voor het genereren van de 3D Basisvoorziening zijn door de 3D geoinformation groep gemaakt. In feite zijn de LoD1.3 modellen in de 3D Basisvoorziening gegenereerd met een vorige, meer stabiele versie van dezelfde algoritmen die we gebruiken in de 3D BAG. Sindsdien hebben we het reconstructieproces verbeterd vooral gericht op een betere LoD2.2 reconstructie.","title":"3D Basisvoorziening"},{"location":"#3d-omgevingsmodel-voor-geluid","text":"Het 3D omgevingsmodel voor geluid is gecre\u00eberd in samenwerken met het RIVM, Rijkswaterstaat, Interprovinciaal Overleg, Kadaster en de 3D geoinformation onderzoeksgroep. Zowel het 3D omgevingsmodel voor geluid als de 3D BAG gebruiken de BAG als basis voor de panden. Waar de 3D BAG uitsluitend het AHN gebruikt, is de 3D geluidsdata uitgebreid met LoD1.2 modellen die zijn gegenereerd met de actuele puntenwolk van het Kadaster voor panden die nieuwer zijn dan het AHN. Naast gebouwmodellen, bevat de 3D geluidsdata twee aanvullende lagen, zowel voor de hoogte van het terrein als de geluidabsorptiewaarden van bodemvlakken. De gebouwmodellen in het 3D omgevingsmodel voor geluid zijn gemodelleerd als LoD1.3 modellen en in 2D beschikbaar (met de hoote-informatie als attribuutwaarden) omdat de huidige software voor geluidssimulatie alleen 2D gebouwen (+ hoogteattributen) ondersteunt.","title":"3D omgevingsmodel voor geluid"},{"location":"#toekomstplannen","text":"Een van de meest gewilde informatie gerelateerd aan pandhoogten is het exacte aantal verdiepingen in een pand. De bepaling hiervan blijkt ingewikkelder te zijn dan het standaard opdelen van de pandhoogte door een gemiddelde verdiepingshoogte (bijvoorbeeld 3 meter). We hebben momenteel dan ook een een lopend MSc-onderzoek over dit onderwerp. Adressen. Op dit moment voegen we de adressen uit de BAG niet toe aan de 3D BAG. Mogelijk zullen we dit in de toekomst wel doen.","title":"Toekomstplannen"},{"location":"#financiering","text":"Dit project heeft financiering ontvangen van de Europese Commissie (ERC) onder het European Unions Horizon2020 Research & Innovation Programme (grant agreement no. 677312 UMnD: Urban modelling in higher dimensions)","title":"Financiering"},{"location":"contact/","text":"Hulp \u00b6 Als je vragen hebt over de data of hulp nodig hebt, kun je https://geoforum.nl/ bezoeken. Gelieve de tag 3D BAG te gebruiken bij het posten van vragen op het forum. Feedback \u00b6 We horen graag wat je dan ook te vertellen hebt over de 3D BAG. Je kunt ons feedback geven via dit formulier . De vragen zijn in het Engels, maar je kunt ook antwoorden in het Nederlands. Mocht je problemen met specifieke modellen willen rapporteren, kun je dat doen door op het model te klikken in de 3D viewer en vervolgens op de rode Rapporteer een probleem knop te drukken in de pop-up. Contact \u00b6 Voor overige opmerkingen kun je ons ook direct bereiken op info@3dbag.nl .","title":"Contact"},{"location":"contact/#hulp","text":"Als je vragen hebt over de data of hulp nodig hebt, kun je https://geoforum.nl/ bezoeken. Gelieve de tag 3D BAG te gebruiken bij het posten van vragen op het forum.","title":"Hulp"},{"location":"contact/#feedback","text":"We horen graag wat je dan ook te vertellen hebt over de 3D BAG. Je kunt ons feedback geven via dit formulier . De vragen zijn in het Engels, maar je kunt ook antwoorden in het Nederlands. Mocht je problemen met specifieke modellen willen rapporteren, kun je dat doen door op het model te klikken in de 3D viewer en vervolgens op de rode Rapporteer een probleem knop te drukken in de pop-up.","title":"Feedback"},{"location":"contact/#contact","text":"Voor overige opmerkingen kun je ons ook direct bereiken op info@3dbag.nl .","title":"Contact"},{"location":"copyright/","text":"Copyright en licentie \u00b6 Data en documentatie \u00b6 3D BAG door de 3D geoinformation onderzoeksgroep is gelicentieerd onder CC BY 4.0 De 3D BAG is open data. Dit geldt ook voor alle downloadbare databestanden en data verspreid via webservices. Het staat je vrij om de 3D BAG data te kopi\u00ebren, verspreiden en aan te passen, zo lang je: credits geeft aan de 3D geoinformation group, een link naar de licentie bijvoegt, en aangeeft als je enige veranderingen aan hebt gebracht aan de data. Let op dat sommige inhoud van de documentatie hergebruikt is uit andere teksten. De bron van deze inhoud is expliciet aangegeven, en het is belangrijk om je te houden aan diens respectievelijke licentie wanneer je deze gebruikt. Hoe de eer te geven aan de 3D BAG \u00b6 We vereisen dat je de regel \u201c\u00a9 3D BAG by tudelft3d\u201d gebruikt bij je toepassing. In digitale media moet je eveneens een link naar deze copyright-pagina bijvoegen. In geprinte media, of waar links niet mogelijk zijn, is de beste manier om de regel \"3D BAG by 3D geoinformation research group, TU Delft\" bij te voegen, en de lezers te verwijzen naar \"3dbag.nl\". De naam tudelft3d is een korte alias van de volledige naam van onze groep, 3D geoinformation research group . We gebruiken tudelft3d vaak bij onze communicatie. Als je de 3D BAG data integreert in een interactieve elektronische kaart/visualisatie, moet je de genoemde tekstregel plaatsen in de rechteronderhoek van de kaart. Software \u00b6 De software en componenten die we hebben ontwikkeld voor het maken en aanbieden van de 3D BAG zijn onafhankelijk van de 3D BAG data en documentatie gelicentieerd.","title":"Gebruiksvoorwaarden"},{"location":"copyright/#copyright-en-licentie","text":"","title":"Copyright en licentie"},{"location":"copyright/#data-en-documentatie","text":"3D BAG door de 3D geoinformation onderzoeksgroep is gelicentieerd onder CC BY 4.0 De 3D BAG is open data. Dit geldt ook voor alle downloadbare databestanden en data verspreid via webservices. Het staat je vrij om de 3D BAG data te kopi\u00ebren, verspreiden en aan te passen, zo lang je: credits geeft aan de 3D geoinformation group, een link naar de licentie bijvoegt, en aangeeft als je enige veranderingen aan hebt gebracht aan de data. Let op dat sommige inhoud van de documentatie hergebruikt is uit andere teksten. De bron van deze inhoud is expliciet aangegeven, en het is belangrijk om je te houden aan diens respectievelijke licentie wanneer je deze gebruikt.","title":"Data en documentatie"},{"location":"copyright/#hoe-de-eer-te-geven-aan-de-3d-bag","text":"We vereisen dat je de regel \u201c\u00a9 3D BAG by tudelft3d\u201d gebruikt bij je toepassing. In digitale media moet je eveneens een link naar deze copyright-pagina bijvoegen. In geprinte media, of waar links niet mogelijk zijn, is de beste manier om de regel \"3D BAG by 3D geoinformation research group, TU Delft\" bij te voegen, en de lezers te verwijzen naar \"3dbag.nl\". De naam tudelft3d is een korte alias van de volledige naam van onze groep, 3D geoinformation research group . We gebruiken tudelft3d vaak bij onze communicatie. Als je de 3D BAG data integreert in een interactieve elektronische kaart/visualisatie, moet je de genoemde tekstregel plaatsen in de rechteronderhoek van de kaart.","title":"Hoe de eer te geven aan de 3D BAG"},{"location":"copyright/#software","text":"De software en componenten die we hebben ontwikkeld voor het maken en aanbieden van de 3D BAG zijn onafhankelijk van de 3D BAG data en documentatie gelicentieerd.","title":"Software"},{"location":"delivery/cityjson/","text":"CityJSON is een open bestandsformaat voor 3D stadsmodellen (ook wel digital twins genoemd) en een JSON-codering van het datamodel van CityGML. De standaard zit momenteel in het proces om een community standard te worden van het Open Geospatial Consortium (OGC). De specificaties van CityJSON beschrijven de manier van het opslaan van zowel de geometrie als semantiek van veelvoorkomende 3D objecten, waaronder gebouwen, vegetatie, wegen, waterlichamen en bruggen. Dit maakt 3D data gecodeerd in deze standaard geschikt voor 3D geografische analyse. De drie leidende principes van het formaat zijn compactheid, eenvoud en makkelijk te gebruiken door ontwikkelaars. CityJSON is gemiddeld 6 maal zo compact als CityGML door de JSON-codering. Daarnaast zijn er door het eenvoudige formaat al verscheidene tools ontwikkeld voor het verwerken, bewerken en visualiseren van CityJSON-bestanden. Een aantal van die tools is hieronder uitgelicht. Probeer het uit! De CityJSON-bestanden van de 3D BAG bevatten alle 3D lagen (LoD1.2, LoD1.3, LoD2.2), maar alleen de attributen die betrekking hebben op het gehele gebouw. ninja en azul \u00b6 ninja is een webapplicatie voor het visualiseren \u00e8n bewerken van CityJSON-bestanden. Voor macOS is er azul , een 3D viewer voor verscheidene formaten waaronder CityJSON. Een 3D BAG tegel gevisualiseerd met ninja. Een 3D BAG tegel gevisualiseerd met azul. QGIS CityJSON Loader plugin \u00b6 De CityJSON Loader plugin voor QGIS 3 maakt het mogelijk om CityJSON-bestanden in te laden in QGIS, inclusief 3D visualisering. Je kunt de 3D visualisatie openen door naar View -> New 3D Map View te gaan. Voor versies van QGIS 3 ouder dan 3.2 is er daarvoor echter een extra stap nodig . Een 3D BAG tegel geopend in QGIS, met de 3D Map View boven en de features in 2D onder. cjio \u00b6 cjio is een command-line-interface voor het verwerken van CityJSON-bestanden. Je kunt er bijvoorbeeld data mee valideren, bestanden opdelen of samenvoegen en converteren naar andere formaten. Om alle attributen (en meer) te zien in een 3D BAG bestand: cjio 3dbag_<version>_<tile ID>.json info --long Om de LoD2.2 uit een 3D BAG bestand te halen en die op te slaan: cjio 3dbag_<version>_<tile ID>.json extract_lod 2 save out.json","title":"CityJSON"},{"location":"delivery/cityjson/#ninja-en-azul","text":"ninja is een webapplicatie voor het visualiseren \u00e8n bewerken van CityJSON-bestanden. Voor macOS is er azul , een 3D viewer voor verscheidene formaten waaronder CityJSON. Een 3D BAG tegel gevisualiseerd met ninja. Een 3D BAG tegel gevisualiseerd met azul.","title":"ninja en azul"},{"location":"delivery/cityjson/#qgis-cityjson-loader-plugin","text":"De CityJSON Loader plugin voor QGIS 3 maakt het mogelijk om CityJSON-bestanden in te laden in QGIS, inclusief 3D visualisering. Je kunt de 3D visualisatie openen door naar View -> New 3D Map View te gaan. Voor versies van QGIS 3 ouder dan 3.2 is er daarvoor echter een extra stap nodig . Een 3D BAG tegel geopend in QGIS, met de 3D Map View boven en de features in 2D onder.","title":"QGIS CityJSON Loader plugin"},{"location":"delivery/cityjson/#cjio","text":"cjio is een command-line-interface voor het verwerken van CityJSON-bestanden. Je kunt er bijvoorbeeld data mee valideren, bestanden opdelen of samenvoegen en converteren naar andere formaten. Om alle attributen (en meer) te zien in een 3D BAG bestand: cjio 3dbag_<version>_<tile ID>.json info --long Om de LoD2.2 uit een 3D BAG bestand te halen en die op te slaan: cjio 3dbag_<version>_<tile ID>.json extract_lod 2 save out.json","title":"cjio"},{"location":"delivery/gpkg/","text":"GeoPackage is een open bestandsformaat dat conventies beschrijft hoe data opgeslagen kunnen worden in een SQLite database. Het ondersteunt vector features, tile matrix sets, attributen en er is ruimte voor extensies. Het formaat ondersteunt 3D-geometrie\u00ebn, en kan geopend worden met bijvoorbeeld QGIS, ArcGIS of FME. De 3D BAG GeoPackage-bestanden bevatten alle lagen . GeoPackage in 3D in QGIS \u00b6 Wanneer je de data in QGIS importeert (door het bestand er naar toe te slepen of te gaan naar Layer -> Add Layer -> Add Vector Layer... ) kun je kiezen uit de verschillende lagen die het bestand bevat. Om de data in 3D te zien (vanaf QGIS 3.0, maar afhankelijk van de exacte versie): Pas eerst de Layer Properties aan. Ga daar naar de 3D View tab, verander No Symbols naar Single Symbol en pas de verandering toe. Of: in oudere versies van QGIS 3 moet in plaats daarvan op dezelfde plek het knopje Enable 3D renderer aan worden gezet. Ga vervolgens naar View -> 3D Map View om de data te bekijken. De tab in de Layer Properties waar de instellingen aangepast kunnen worden voor de 3D Map View. Een tegel in GeoPackage-formaat in QGIS. Bovenaan de 3D Map View, links de attributen, en onderaan de features in 2D.","title":"GeoPackage"},{"location":"delivery/gpkg/#geopackage-in-3d-in-qgis","text":"Wanneer je de data in QGIS importeert (door het bestand er naar toe te slepen of te gaan naar Layer -> Add Layer -> Add Vector Layer... ) kun je kiezen uit de verschillende lagen die het bestand bevat. Om de data in 3D te zien (vanaf QGIS 3.0, maar afhankelijk van de exacte versie): Pas eerst de Layer Properties aan. Ga daar naar de 3D View tab, verander No Symbols naar Single Symbol en pas de verandering toe. Of: in oudere versies van QGIS 3 moet in plaats daarvan op dezelfde plek het knopje Enable 3D renderer aan worden gezet. Ga vervolgens naar View -> 3D Map View om de data te bekijken. De tab in de Layer Properties waar de instellingen aangepast kunnen worden voor de 3D Map View. Een tegel in GeoPackage-formaat in QGIS. Bovenaan de 3D Map View, links de attributen, en onderaan de features in 2D.","title":"GeoPackage in 3D in QGIS"},{"location":"delivery/obj/","text":"Wavefront OBJ is een open bestandsformaat voor 3D graphics. Het bevat dus geen attributen van de 3D BAG gebouwen, maar uitsluitend de geometrie\u00ebn. Het is voornamelijk beschikbaar voor het integreren van de 3D BAG data in 3D CAD software (waar mogelijk conversie van de data voor benodigd is) en software voor 3D-modellering (bijvoorbeeld Blender ). De OBJ-bestanden van de 3D BAG bevatten alleen de 3D geometrie\u00ebn en elke 3D laag is opgeslagen in een apart bestand. Ze zijn gecomprimeerd in een ZIP-bestand per tegel. De object-co\u00f6rdinaten zijn in het Amersfoort / RD New + NAP height geodetisch co\u00f6rdinatensysteem. Blender \u00b6 Een 3D BAG tegel in OBJ-formaat geopend in Blender. OBJ kan makkelijk ge\u00efmporteerd worden in Blender. Overigens is er ook een CityJSON plugin beschikbaar. Omdat de bestanden werkelijke (en dus grote) co\u00f6rdinaten bevatten en niet gecentreerd zijn rondom de origin (0, 0, 0) in Blender zie je in eerste instantie dat de objecten flikkeren. Het is daarom een goed idee om ze te verplaatsen naar het midden van de scene. Kies bij het importeren van de data voor Z Up zodat het model juist geori\u00ebnteerd wordt. Om het makkelijker te maken kan je ook Split by Object uitzetten, zodat alle gebouwen als \u00e9\u00e9n object geladen worden. Je kunt na het importeren de camera focussen op het model door het te selecteren in Scene Collection rechts op het scherm, en vervolgens op . op het numpad te drukken (de normale . op het toetsenbord werkt niet). Selecteer vervolgens het object (of alle individuele objecten als je ze op die manier ingeladen hebt) en druk op Tab om de Edit Mode te openen. Klik op het pijltje dat gemarkeerd is in bovenstaande screenshot... En verander X en Y naar 0. Druk wederom op . op het numpad om de camera weer te focussen op het model.","title":"Wavefront OBJ"},{"location":"delivery/obj/#blender","text":"Een 3D BAG tegel in OBJ-formaat geopend in Blender. OBJ kan makkelijk ge\u00efmporteerd worden in Blender. Overigens is er ook een CityJSON plugin beschikbaar. Omdat de bestanden werkelijke (en dus grote) co\u00f6rdinaten bevatten en niet gecentreerd zijn rondom de origin (0, 0, 0) in Blender zie je in eerste instantie dat de objecten flikkeren. Het is daarom een goed idee om ze te verplaatsen naar het midden van de scene. Kies bij het importeren van de data voor Z Up zodat het model juist geori\u00ebnteerd wordt. Om het makkelijker te maken kan je ook Split by Object uitzetten, zodat alle gebouwen als \u00e9\u00e9n object geladen worden. Je kunt na het importeren de camera focussen op het model door het te selecteren in Scene Collection rechts op het scherm, en vervolgens op . op het numpad te drukken (de normale . op het toetsenbord werkt niet). Selecteer vervolgens het object (of alle individuele objecten als je ze op die manier ingeladen hebt) en druk op Tab om de Edit Mode te openen. Klik op het pijltje dat gemarkeerd is in bovenstaande screenshot... En verander X en Y naar 0. Druk wederom op . op het numpad om de camera weer te focussen op het model.","title":"Blender"},{"location":"delivery/postgresql/","text":"PostgreSQL is een open source systeem voor object-relationele databases. Met toevoeging van de PostGIS extensie is er ondersteuning voor geografische objecten. PostGIS is geschikt om enorme hoeveelheden geodata te verwerken. Om deze reden bieden wij de volledige 3D BAG data aan als \u00e9\u00e9n PostgreSQL dump. Het 3D BAG PostgreSQL backup-bestand heeft alle attributen en alle lagen die de 3D BAG heeft. Het bestand is gecre\u00eberd met pg_dump , met de opties --no-owner --no-privileges --format=directory . De dump inladen \u00b6 Met het volgende commando kun je de dump inladen. Pas in ieder geval de laatste twee regels aan (lees pg_restore voor meer informatie): pg_restore \\ --no-owner \\ --no-privileges \\ --format=directory \\ --jobs=8 \\ <connectieparameters> <pad naar ongezipt bestand> <connectieparameters> zijn bijvoorbeeld --port en --username . Het kan een aantal uur duren tot het inladen gereed is.","title":"PostgreSQL"},{"location":"delivery/postgresql/#de-dump-inladen","text":"Met het volgende commando kun je de dump inladen. Pas in ieder geval de laatste twee regels aan (lees pg_restore voor meer informatie): pg_restore \\ --no-owner \\ --no-privileges \\ --format=directory \\ --jobs=8 \\ <connectieparameters> <pad naar ongezipt bestand> <connectieparameters> zijn bijvoorbeeld --port en --username . Het kan een aantal uur duren tot het inladen gereed is.","title":"De dump inladen"},{"location":"delivery/webservices/","text":"De webservices geven de mogelijkheid om in de vorm van een URL exact te specificeren welke 3D BAG gebouwen je wilt downloaden. Alle belangrijke GIS-software heeft ondersteuning voor deze services. Van de 3D BAG bieden we zowel de 2D lagen aan, als de tegelset die we gebruiken voor het verspreiden van de data in de verschillende formaten. WFS \u00b6 Web Feature Service (WFS) is een OGC-standaard die beschrijft hoe geografische vectordata opgevraagd, gecre\u00eberd en bewerkt kan worden via internet. LoD1.3 2D laag van de WFS gevisualiseerd in QGIS, met de BRT Achtergrondkaart van PDOK op de achtergrond. WMS \u00b6 Ook Web Map Service (WMS) is een OGC-standaard, maar dan om kaarten als afbeelding op te vragen. LoD1.3 2D laag van de WMS gevisualiseerd in QGIS, met de BRT Achtergrondkaart van PDOK op de achtergrond. Webservices in QGIS \u00b6 Hier vind je een QGIS tutorial over webservices van een van onze 3D geoinformation groep collega's. Op 3:18 in de video laat hij specifiek zien hoe je de webservices van de vorige versie van de 3D BAG gebruikt. Het grootste verschil met de nieuwe 3D BAG is dat je nu kunt specificeren welke laag van de data je wilt gebruiken (de tileset of een van de LoDs). In die video wordt eveneens de PDOK services plugin ge\u00efntroduceerd, met handige webservices die kunnen fungeren als referentiekaart.","title":"Webservices"},{"location":"delivery/webservices/#wfs","text":"Web Feature Service (WFS) is een OGC-standaard die beschrijft hoe geografische vectordata opgevraagd, gecre\u00eberd en bewerkt kan worden via internet. LoD1.3 2D laag van de WFS gevisualiseerd in QGIS, met de BRT Achtergrondkaart van PDOK op de achtergrond.","title":"WFS"},{"location":"delivery/webservices/#wms","text":"Ook Web Map Service (WMS) is een OGC-standaard, maar dan om kaarten als afbeelding op te vragen. LoD1.3 2D laag van de WMS gevisualiseerd in QGIS, met de BRT Achtergrondkaart van PDOK op de achtergrond.","title":"WMS"},{"location":"delivery/webservices/#webservices-in-qgis","text":"Hier vind je een QGIS tutorial over webservices van een van onze 3D geoinformation groep collega's. Op 3:18 in de video laat hij specifiek zien hoe je de webservices van de vorige versie van de 3D BAG gebruikt. Het grootste verschil met de nieuwe 3D BAG is dat je nu kunt specificeren welke laag van de data je wilt gebruiken (de tileset of een van de LoDs). In die video wordt eveneens de PDOK services plugin ge\u00efntroduceerd, met handige webservices die kunnen fungeren als referentiekaart.","title":"Webservices in QGIS"},{"location":"overview/group/","text":"De 3D geoinformation onderzoeksgroep is onderdeel van de Technische Universiteit Delft , en is verwant aan AMS, the Amsterdam Institute for Advanced Metropolitan Solutions . Het focust op de technologie achter geografische informatiesystemen (GIS), en heeft als doel het designen, ontwikkelen en implementeren van betere system voor het modelleren van 3D steden, gebouwen en landschappen. Deze systemen helpen bij het modelleren van het milieu, ruimtelijke orderning, crisismanagement, geautomatiseerde cartografische generalisatie, informatiemodellering, het modelleren van het interieur van gebouw, enzovoort. Het is een multidisciplinaire groep, gevormd door informatici, geomatica-ingenieurs en geografen. De makers van de 3D BAG (op alfabetische volgorde) zijn: Bal\u00e1zs Dukai Jordi van Liempt Ravi Peters Jantien Stoter Stelios Vitalis Teng Wu","title":"Over ons"},{"location":"overview/release_notes/","text":"Unreleased (First full release) \u00b6 These are the issues that we want to solve for the first full release of the 3D BAG. issue issue 21.03.1 (2021.03.26) \u2013 beta \u00b6 Added \u00b6 A brand new 3D viewer. Multiple LoDs, LoD1.2, LoD1.3, LoD2.2. 2D and 3D variants of all LoDs. The 3D models are triangulated. More accurate height calculation, due to our new reconstruction method. Underground buildings and floating buildings are removed, underground parts are cut off from the models. This means that we modify the incoming BAG footprints by removing the underground parts. Integrated validation of the 3D models with val3dity. OBJ and CityJSON data formats. A completely re-worked documentation. Report issues on individual buildings and provide general feedback with a form. Changed \u00b6 Downloads are available in tiles instead of the whole country. Except the PostgreSQL backup, which is only available for the whole country. Switched to BAG 2.0. Basically all the attributes have changed. Note that due to our new reconstruction method, the meaning of the building height percentiles h_dak have changed too. Previously we had multiple percentiles for the ground height, while there is only one h_maaiveld now. All the URLs. New contact information. Removed \u00b6 CSV data format. Known issues \u00b6 Some buildings have a 'spike': a large deviation in the building geometry due to one vertex with an erroneous coordinate (3D models only). Not all buildings are geometrically valid (eg. missing face). Note that this should be evident from the val3dity_codes attribute (3D models only). Missing tiles: 42, 2178, 10, 3647, 309, 1389, 20, 736, 6, 8, 52, 50, 53, 57, 51.","title":"Release-opmerkingen"},{"location":"overview/release_notes/#unreleased-first-full-release","text":"These are the issues that we want to solve for the first full release of the 3D BAG. issue issue","title":"Unreleased (First full release)"},{"location":"overview/release_notes/#21031-20210326-beta","text":"","title":"21.03.1 (2021.03.26) \u2013 beta"},{"location":"overview/sources/","text":"Databronnen \u00b6 De kenmerken en kwaliteit van de 3D BAG hangen af van de inputdata die gebruikt wordt voor de 3D reconstructie. Hoe beter de inputdata, des te beter de kwaliteit van het gereconstrueerde 3D model. Onze implementatiekeuzes zijn dan ook deels gebaseerd op specifieke eigenschappen van de input data. Om beter te begrijpen wat de 3D BAG nu eigenlijk is, geven we hier meer details over de inputdata op basis waarvan de 3D BAG is gecre\u00eberd. BAG \u00b6 De Basisregistratie Adressen en Gebouwen (BAG) is de meest gedetailleerde en openlijk beschikbare dataset van gebouwen en adressen in Nederland. Het bevat informatie over ieder adres in een gebouw, zoals het huidige gebruik, constructiedatum of registratiestatus. De dataset wordt regelmatig ge\u00fcpdatet met geregistreerde, gebouwde of gesloopte gebouwen. Gemeenten zijn als bronhouders van de BAG verantwoordelijk voor de inwinning van de BAG-gegevens binnen hun grenzen en het waarborgen van de kwaliteit daarvan. Deze gegevens worden centraal beschikbaar gesteld door het Kadaster. De BAG bevat meerdere objecttypen. Voor de 3D BAG worden alleen de panden gebruikt. De polygonen in de BAG representeren de omlijning van panden als de projectie van bovenaf (inclusief ondergrondse delen), in tegenstelling tot de BGT die de geometrie van gebouwen modelleert daar waar het pand het maaiveld raakt, de zogenaamde footprint. De geometrie van BAG-panden wordt verkregen uit luchtfoto's en terrestrische metingen en kent een positionele nauwkeurigheid van 30 cm. Een overzicht van de attributen van BAG-objecten is hier te vinden. Als inputdata voor de 3D BAG wordt altijd de meest recente BAG 2.0 gebruikt. AHN \u00b6 Het Actueel Hoogtebestand Nederland (AHN) is het openlijk beschikbare digitale hoogtemodel van Nederland. Vanuit de lucht worden door middel van LiDAR-metingen precieze en gedetailleerde hoogtegegevens ingewonnen, resulterend in een dataset met gemiddeld 8 punten per vierkante meter voor de huidige AHN versie (AHN3). Voor de 3D BAG wordt er gebruikt gemaakt van AHN3. De data is in verschillende jaren ingewonnen tussen 2014 en 2019, afhankelijk van het gebied. Informatie over het precieze inwinjaar van een specifiek gebied kun je hier vinden. De inwinperiode van het AHN is tamelijk lang. Dit kan leiden tot verouderde data wat problematisch kan zijn voor 3D reconstructie. Het gebouwenbestand verandert echter relatief langzaam, alhoewel in stedelijke gebieden sneller dan in landelijk gebied. Het AHN3 bevat helaas geen specifieke temporele gegevens. Het bevat namelijk alleen de datum waarop een specifieke tegel gemaakt is; niet de precieze inwindatum per punt. Om deze reden wordt er in de 3D BAG aangegeven welke panden mogelijk zijn veranderd in het jaar waarin de hoogtepunten zijn opgenomen en welke panden zeker verouderd zijn. We schatten dat ongeveer 95% van de panden nog valide zijn (voor de 3D BAG gegenereerd in maart 2021). Verder is er variatie in de puntendichtheid van het AHN per pand-polygoon. Gaten in de puntenwolk worden veroorzaakt door bijvoorbeeld occlusie, water/ramen op de daken of de scanhoek bij inwinning. De classificatie van de punten in grond- en gebouwpunten in het AHN is ook niet altijd correct. Het aantal beschikbare punten en de verdeling ervan over het dakvlak heeft een grote invloed op de nauwkeurigheid van de reconstructie. De kwaliteitsattributen bij de gebouwen geven hier een indicatie van. AHN4? \u00b6 Op het moment van schrijven komt het nieuwe AHN4 binnenkort beschikbaar voor een deel van het land. Waar het AHN3 binnen een periode van 5 jaar is ingewonnen, moet de inwinning van AHN4 binnen 3 jaar gebeuren. Ook kan het zijn dat de kwaliteit ervan verandert wat (zeer waarschijnlijk positieve) impact zal hebben op de algoritmen van de 3D BAG. Het feit dat de nieuwe data up-to-date er zijn zorgt er in ieder geval voor dat we de 3D BAG kunnen verbeteren. Zodra de AHN4 beschikbaar is, zullen we dit zo snel mogelijk integreren in ons proces. BGT \u00b6 De Basisregistratie Grootschalige Topografie (BGT) is een nationale dataset die naast panden ook onder andere wegen, water, spoorlijnen en groen omvat. De bronhouders zijn organisaties met een publieke taak voor het beheer van de openbare ruimte zoals provincies, gemeenten en waterschappen. De BGT wordt gebruikt in de 3D BAG om panden te detecteren die overlappen met een ander object; een ander pand (uit de BAG), weg of water. Hierdoor gebruiken we alleen wegdeel en waterdeel uit de BGT. Deze panden kunnen dan in de BAG aangemerkt worden als overlappend, voordat de 3D BAG wordt geproduceerd. TOP10NL \u00b6 TOP10NL is onderdeel van de TOPNL-bestanden . Deze behoren tot de Basisregistratie Topografie (BRT) . Ditzijn eveneens landsdekkende datasets, die gebruikt kunnen worden als gegevensbron en als ondergrond voor visualisatie. De TOP10NL kan gebruikt worden op schaalniveaus tussen 1:5.000 tot en met 1:25.000. Het bevat onder andere wegdelen, gebouwen en terreinen. Uit deze dataset worden uitsluitend de gebouwen gebruikt. Uit de classificatie hiervan kunnen we kassen en warenhuizen identificeren, wat problematische gevallen zijn bij de 3D reconstructie. Daarom modelleren we ze uitsluitend in versimpelde vorm.","title":"Databronnen"},{"location":"overview/sources/#databronnen","text":"De kenmerken en kwaliteit van de 3D BAG hangen af van de inputdata die gebruikt wordt voor de 3D reconstructie. Hoe beter de inputdata, des te beter de kwaliteit van het gereconstrueerde 3D model. Onze implementatiekeuzes zijn dan ook deels gebaseerd op specifieke eigenschappen van de input data. Om beter te begrijpen wat de 3D BAG nu eigenlijk is, geven we hier meer details over de inputdata op basis waarvan de 3D BAG is gecre\u00eberd.","title":"Databronnen"},{"location":"overview/sources/#bag","text":"De Basisregistratie Adressen en Gebouwen (BAG) is de meest gedetailleerde en openlijk beschikbare dataset van gebouwen en adressen in Nederland. Het bevat informatie over ieder adres in een gebouw, zoals het huidige gebruik, constructiedatum of registratiestatus. De dataset wordt regelmatig ge\u00fcpdatet met geregistreerde, gebouwde of gesloopte gebouwen. Gemeenten zijn als bronhouders van de BAG verantwoordelijk voor de inwinning van de BAG-gegevens binnen hun grenzen en het waarborgen van de kwaliteit daarvan. Deze gegevens worden centraal beschikbaar gesteld door het Kadaster. De BAG bevat meerdere objecttypen. Voor de 3D BAG worden alleen de panden gebruikt. De polygonen in de BAG representeren de omlijning van panden als de projectie van bovenaf (inclusief ondergrondse delen), in tegenstelling tot de BGT die de geometrie van gebouwen modelleert daar waar het pand het maaiveld raakt, de zogenaamde footprint. De geometrie van BAG-panden wordt verkregen uit luchtfoto's en terrestrische metingen en kent een positionele nauwkeurigheid van 30 cm. Een overzicht van de attributen van BAG-objecten is hier te vinden. Als inputdata voor de 3D BAG wordt altijd de meest recente BAG 2.0 gebruikt.","title":"BAG"},{"location":"overview/sources/#ahn","text":"Het Actueel Hoogtebestand Nederland (AHN) is het openlijk beschikbare digitale hoogtemodel van Nederland. Vanuit de lucht worden door middel van LiDAR-metingen precieze en gedetailleerde hoogtegegevens ingewonnen, resulterend in een dataset met gemiddeld 8 punten per vierkante meter voor de huidige AHN versie (AHN3). Voor de 3D BAG wordt er gebruikt gemaakt van AHN3. De data is in verschillende jaren ingewonnen tussen 2014 en 2019, afhankelijk van het gebied. Informatie over het precieze inwinjaar van een specifiek gebied kun je hier vinden. De inwinperiode van het AHN is tamelijk lang. Dit kan leiden tot verouderde data wat problematisch kan zijn voor 3D reconstructie. Het gebouwenbestand verandert echter relatief langzaam, alhoewel in stedelijke gebieden sneller dan in landelijk gebied. Het AHN3 bevat helaas geen specifieke temporele gegevens. Het bevat namelijk alleen de datum waarop een specifieke tegel gemaakt is; niet de precieze inwindatum per punt. Om deze reden wordt er in de 3D BAG aangegeven welke panden mogelijk zijn veranderd in het jaar waarin de hoogtepunten zijn opgenomen en welke panden zeker verouderd zijn. We schatten dat ongeveer 95% van de panden nog valide zijn (voor de 3D BAG gegenereerd in maart 2021). Verder is er variatie in de puntendichtheid van het AHN per pand-polygoon. Gaten in de puntenwolk worden veroorzaakt door bijvoorbeeld occlusie, water/ramen op de daken of de scanhoek bij inwinning. De classificatie van de punten in grond- en gebouwpunten in het AHN is ook niet altijd correct. Het aantal beschikbare punten en de verdeling ervan over het dakvlak heeft een grote invloed op de nauwkeurigheid van de reconstructie. De kwaliteitsattributen bij de gebouwen geven hier een indicatie van.","title":"AHN"},{"location":"overview/sources/#ahn4","text":"Op het moment van schrijven komt het nieuwe AHN4 binnenkort beschikbaar voor een deel van het land. Waar het AHN3 binnen een periode van 5 jaar is ingewonnen, moet de inwinning van AHN4 binnen 3 jaar gebeuren. Ook kan het zijn dat de kwaliteit ervan verandert wat (zeer waarschijnlijk positieve) impact zal hebben op de algoritmen van de 3D BAG. Het feit dat de nieuwe data up-to-date er zijn zorgt er in ieder geval voor dat we de 3D BAG kunnen verbeteren. Zodra de AHN4 beschikbaar is, zullen we dit zo snel mogelijk integreren in ons proces.","title":"AHN4?"},{"location":"overview/sources/#bgt","text":"De Basisregistratie Grootschalige Topografie (BGT) is een nationale dataset die naast panden ook onder andere wegen, water, spoorlijnen en groen omvat. De bronhouders zijn organisaties met een publieke taak voor het beheer van de openbare ruimte zoals provincies, gemeenten en waterschappen. De BGT wordt gebruikt in de 3D BAG om panden te detecteren die overlappen met een ander object; een ander pand (uit de BAG), weg of water. Hierdoor gebruiken we alleen wegdeel en waterdeel uit de BGT. Deze panden kunnen dan in de BAG aangemerkt worden als overlappend, voordat de 3D BAG wordt geproduceerd.","title":"BGT"},{"location":"overview/sources/#top10nl","text":"TOP10NL is onderdeel van de TOPNL-bestanden . Deze behoren tot de Basisregistratie Topografie (BRT) . Ditzijn eveneens landsdekkende datasets, die gebruikt kunnen worden als gegevensbron en als ondergrond voor visualisatie. De TOP10NL kan gebruikt worden op schaalniveaus tussen 1:5.000 tot en met 1:25.000. Het bevat onder andere wegdelen, gebouwen en terreinen. Uit deze dataset worden uitsluitend de gebouwen gebruikt. Uit de classificatie hiervan kunnen we kassen en warenhuizen identificeren, wat problematische gevallen zijn bij de 3D reconstructie. Daarom modelleren we ze uitsluitend in versimpelde vorm.","title":"TOP10NL"},{"location":"schema/attributes/","text":"Data Attributen \u00b6 _semantics_values \u00b6 Pand-oppervlaksemantiek. Dit is een array van integers, waarbij een integer verwijst naar een oppervlaktype (0: GroundSurface , 1: RoofSurface , 2: OuterWallSurface , 3: InnerWallSurface ). Als een oppervlak geen semantische waarde heeft, wordt NULL gebruikt. De lengte van de array staat dus gelijk aan het aantal oppervlakken, en de volgorde van waarden in de array correspondeert met de volgorde van de oppervlakken. Datatype : lijst Eenheid : - begingeldigheid \u00b6 De datum waarop een versie van een BAG-object geldig is in de werkelijkheid conform de ingangsdatum in het brondocument. Dit tijdstip wordt vastgelegd in de beginGeldigheid. Als er geen expliciete ingangsdatum van geldigheid is opgenomen, wordt de datum van het brondocument overgenomen. Datatype : datum Eenheid : YYYY-MM-DD Bron : BAG. Zie BAG Catalogus dak_type \u00b6 Daktype van het pand. Datatype : categorisch Eenheid : - Waarden : Waarden Omschrijving slanted Dat met ten minste \u00e9\u00e9n schuin oppervlak. multiple horizontal Dak met meerdere, uitsluitend horizontale oppervlakken. single horizontal Dak met een enkel horizontaal oppervlak. no points Er was geen punt gevonden voor het gebouw. could not detect Kon geen dakoppervlak detecteren, ondanks dat er punten gevonden waren. dd_id \u00b6 Dakdeel ID. Datatype : nominaal getal Eenheid : - documentdatum \u00b6 De datum waarop het brondocument is vastgesteld, op basis waarvan een opname, mutatie of een verwijdering van gegevens ten aanzien van een pand heeft plaatsgevonden. Datatype : datum Eenheid : YYYY-MM-DD Bron : BAG. Zie BAG Catalogus documentnummer \u00b6 De unieke aanduiding van het brondocument op basis waarvan een opname, mutatie of een verwijdering van gegevens ten aanzien van een pand heeft plaatsgevonden, binnen een gemeente. Datatype : tekst Eenheid : YYYY-MM-DD Bron : BAG. Zie BAG Catalogus eindgeldigheid \u00b6 De datum waarop de periode van geldigheid van een versie van een BAG-object eindigt. Bijvoorbeeld als gevolg van de vaststelling van een nieuw brondocument. Wanneer er geen tijdstip is ingevuld, dan is de versie nog geldig. Dit tijdstip wordt vastgelegd in de eindGeldigheid. Datatype : datum Eenheid : YYYY-MM-DD Bron : BAG. Zie BAG Catalogus fid \u00b6 Numeriek ID van een pand (feature). Datatype : nominaal getal Eenheid : - geconstateerd \u00b6 Een aanduiding waarmee kan worden aangegeven dat een pand in de registratie is opgenomen als gevolg van een feitelijke constatering, zonder dat er op het moment van opname sprake was van een regulier brondocument voor deze opname. Datatype : categorisch Eenheid : yes/no Bron : BAG. Zie BAG Catalogus gid \u00b6 Geometrie ID. Datatype : nominaal getal Eenheid : - h_dak_50p \u00b6 Elevatie boven zeeniveau (NAP) op dakniveau. Berekend als de mediaan van alle hoogtepunten op het corresponderende dakdeel. Datatype : re\u00ebel getal Eenheid : meter h_dak_70p \u00b6 Elevatie boven zeeniveau (NAP) op dakniveau. Berekend als het 70e percentiel van alle hoogtepunten op het corresponderende dakdeel. Datatype : re\u00ebel getal Eenheid : meter h_dak_max \u00b6 Elevatie boven zeeniveau (NAP) op dakniveau. Berekend als het maximum van alle hoogtepunten op het corresponderende dakdeel. Datatype : re\u00ebel getal Eenheid : meter h_dak_min \u00b6 Elevatie boven zeeniveau (NAP) op dakniveau. Berekend als het minimum van alle hoogtepunten op het corresponderende dakdeel. Datatype : re\u00ebel getal Eenheid : meter h_maaiveld \u00b6 Elevatie boven zeeniveau (NAP) op het maaiveldniveau van het pand. Berekend als het 5e percentiel van de maaiveldpunten gevonden binnen een radius van 4 meter van het pand. Datatype : re\u00ebel getal Eenheid : meter identificatie \u00b6 BAG: De unieke aanduiding van een pand. Datatype : tekst Eenheid : - Bron : BAG. Zie BAG Catalogus kas_warenhuis \u00b6 Het gebouw is een kas of een magazijn (volgens de TOP10NL). Datatype : categorisch Eenheid : yes/no lod11_replace \u00b6 Geeft aan of de LoD1.3/LoD2.2 reconstructie is overgeslagen voor deze feature (en ook LoD1.1 als lod11_replace==false ). Dit kan bijvoorbeeld gebeuren wanneer er geen punten gevonden zijn. Datatype : categorisch Eenheid : yes/no ondergronds_type \u00b6 Ondergronds-classificatie van het pand of panddeel. Datatype : categorisch Eenheid : - Waarden : Waarden Omschrijving floating Pand of panddeel zweeft boven andere objecten. above ground Pand of panddeel is volledig bovengronds. underground Pand of panddeel is volledig ondergronds. oorspronkelijk_bouwjaar \u00b6 De aanduiding van het jaar waarin een pand oorspronkelijk als bouwkundig gereed is of zal worden opgeleverd. Datatype : datum Eenheid : YYYY Bron : BAG. Zie BAG Catalogus pand_deel_id \u00b6 Panddeel ID. Een pand kan meerdere delen hebben wanneer het is opgedeeld vanwege ondergrondse delen. Datatype : nominaal getal Eenheid : - pw_actueel \u00b6 Geeft aan of de puntenwolk actueel is ten opzichte van de leeftijd van het pand. Datatype : categorisch Eenheid : - Waarden : Waarden Omschrijving yes De puntenwolk is ingewonnen na de constructiedatum van het pand. no De puntenwolk is ingewonnen voor de constructiedatum van het pand. uncertain De puntenwolk is ingewonnen in hetzelfde jaar als de constructiedatum van het pand. pw_bron \u00b6 Bron van de puntenwolk. Datatype : tekst Eenheid : - pw_datum \u00b6 Inwinningsdatum van de puntenwolk. In het geval van de AHN3 is dit een veronderstelde inwinningsdatum, welke bepaald is als 1 december van het jaar voor het officieel gerapporteerde inwinjaar van een specifieke AHN3-tegel. Datatype : datum Eenheid : YYYY-MM-DD reconstructie_methode \u00b6 Reconstructiemethode van het gebouwmodel. Datatype : tekst Eenheid : - reconstruction_skipped \u00b6 Geeft aan of de volledige LoD1.2/LoD1.3/LoD2.2 reconstructie is overgeslagen voor deze feature (en ook LoD1.1 als lod11_replace==false). Datatype : categorisch Eenheid : yes/no status \u00b6 De fase van de levenscyclus van een pand, waarin het betreffende pand zich bevindt. Datatype : categorisch Eenheid : - Bron : BAG. Zie BAG Catalogus Waarden : Waarden Omschrijving Bouwvergunning verleend Niet gerealiseerd pand Bouw gestart Pand in gebruik (niet ingemeten) Pand in gebruik Verbouwing pand Sloopvergunning verleend Pand gesloopt Pand buiten gebruik Pand ten onrechte opgevoerd tijdstipeindregistratielv \u00b6 Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus tijdstipinactief \u00b6 Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus tijdstipinactieflv \u00b6 Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus tijdstipnietbaglv \u00b6 Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus tijdstipregistratielv \u00b6 Dit is het tijdstip waarop een versie van een BAG-object is opgenomen in de registratie van de landelijke voorziening. De gegevens komen daarmee beschikbaar voor afnemers. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus val3dity_codes \u00b6 Val3dity foutcodes voor het 3D model. Null betekent valide geometry. Datatype : lijst Eenheid : - versie_methode \u00b6 Versie van de reconstructiemethode voor panden. Datatype : tekst Eenheid : - voorkomenidentificatie \u00b6 Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : ordinaal getal Eenheid : - Bron : BAG. Zie BAG Catalogus","title":"Data-attributen"},{"location":"schema/attributes/#data-attributen","text":"","title":"Data Attributen"},{"location":"schema/attributes/#_semantics_values","text":"Pand-oppervlaksemantiek. Dit is een array van integers, waarbij een integer verwijst naar een oppervlaktype (0: GroundSurface , 1: RoofSurface , 2: OuterWallSurface , 3: InnerWallSurface ). Als een oppervlak geen semantische waarde heeft, wordt NULL gebruikt. De lengte van de array staat dus gelijk aan het aantal oppervlakken, en de volgorde van waarden in de array correspondeert met de volgorde van de oppervlakken. Datatype : lijst Eenheid : -","title":"_semantics_values"},{"location":"schema/attributes/#begingeldigheid","text":"De datum waarop een versie van een BAG-object geldig is in de werkelijkheid conform de ingangsdatum in het brondocument. Dit tijdstip wordt vastgelegd in de beginGeldigheid. Als er geen expliciete ingangsdatum van geldigheid is opgenomen, wordt de datum van het brondocument overgenomen. Datatype : datum Eenheid : YYYY-MM-DD Bron : BAG. Zie BAG Catalogus","title":"begingeldigheid"},{"location":"schema/attributes/#dak_type","text":"Daktype van het pand. Datatype : categorisch Eenheid : - Waarden : Waarden Omschrijving slanted Dat met ten minste \u00e9\u00e9n schuin oppervlak. multiple horizontal Dak met meerdere, uitsluitend horizontale oppervlakken. single horizontal Dak met een enkel horizontaal oppervlak. no points Er was geen punt gevonden voor het gebouw. could not detect Kon geen dakoppervlak detecteren, ondanks dat er punten gevonden waren.","title":"dak_type"},{"location":"schema/attributes/#dd_id","text":"Dakdeel ID. Datatype : nominaal getal Eenheid : -","title":"dd_id"},{"location":"schema/attributes/#documentdatum","text":"De datum waarop het brondocument is vastgesteld, op basis waarvan een opname, mutatie of een verwijdering van gegevens ten aanzien van een pand heeft plaatsgevonden. Datatype : datum Eenheid : YYYY-MM-DD Bron : BAG. Zie BAG Catalogus","title":"documentdatum"},{"location":"schema/attributes/#documentnummer","text":"De unieke aanduiding van het brondocument op basis waarvan een opname, mutatie of een verwijdering van gegevens ten aanzien van een pand heeft plaatsgevonden, binnen een gemeente. Datatype : tekst Eenheid : YYYY-MM-DD Bron : BAG. Zie BAG Catalogus","title":"documentnummer"},{"location":"schema/attributes/#eindgeldigheid","text":"De datum waarop de periode van geldigheid van een versie van een BAG-object eindigt. Bijvoorbeeld als gevolg van de vaststelling van een nieuw brondocument. Wanneer er geen tijdstip is ingevuld, dan is de versie nog geldig. Dit tijdstip wordt vastgelegd in de eindGeldigheid. Datatype : datum Eenheid : YYYY-MM-DD Bron : BAG. Zie BAG Catalogus","title":"eindgeldigheid"},{"location":"schema/attributes/#fid","text":"Numeriek ID van een pand (feature). Datatype : nominaal getal Eenheid : -","title":"fid"},{"location":"schema/attributes/#geconstateerd","text":"Een aanduiding waarmee kan worden aangegeven dat een pand in de registratie is opgenomen als gevolg van een feitelijke constatering, zonder dat er op het moment van opname sprake was van een regulier brondocument voor deze opname. Datatype : categorisch Eenheid : yes/no Bron : BAG. Zie BAG Catalogus","title":"geconstateerd"},{"location":"schema/attributes/#gid","text":"Geometrie ID. Datatype : nominaal getal Eenheid : -","title":"gid"},{"location":"schema/attributes/#h_dak_50p","text":"Elevatie boven zeeniveau (NAP) op dakniveau. Berekend als de mediaan van alle hoogtepunten op het corresponderende dakdeel. Datatype : re\u00ebel getal Eenheid : meter","title":"h_dak_50p"},{"location":"schema/attributes/#h_dak_70p","text":"Elevatie boven zeeniveau (NAP) op dakniveau. Berekend als het 70e percentiel van alle hoogtepunten op het corresponderende dakdeel. Datatype : re\u00ebel getal Eenheid : meter","title":"h_dak_70p"},{"location":"schema/attributes/#h_dak_max","text":"Elevatie boven zeeniveau (NAP) op dakniveau. Berekend als het maximum van alle hoogtepunten op het corresponderende dakdeel. Datatype : re\u00ebel getal Eenheid : meter","title":"h_dak_max"},{"location":"schema/attributes/#h_dak_min","text":"Elevatie boven zeeniveau (NAP) op dakniveau. Berekend als het minimum van alle hoogtepunten op het corresponderende dakdeel. Datatype : re\u00ebel getal Eenheid : meter","title":"h_dak_min"},{"location":"schema/attributes/#h_maaiveld","text":"Elevatie boven zeeniveau (NAP) op het maaiveldniveau van het pand. Berekend als het 5e percentiel van de maaiveldpunten gevonden binnen een radius van 4 meter van het pand. Datatype : re\u00ebel getal Eenheid : meter","title":"h_maaiveld"},{"location":"schema/attributes/#identificatie","text":"BAG: De unieke aanduiding van een pand. Datatype : tekst Eenheid : - Bron : BAG. Zie BAG Catalogus","title":"identificatie"},{"location":"schema/attributes/#kas_warenhuis","text":"Het gebouw is een kas of een magazijn (volgens de TOP10NL). Datatype : categorisch Eenheid : yes/no","title":"kas_warenhuis"},{"location":"schema/attributes/#lod11_replace","text":"Geeft aan of de LoD1.3/LoD2.2 reconstructie is overgeslagen voor deze feature (en ook LoD1.1 als lod11_replace==false ). Dit kan bijvoorbeeld gebeuren wanneer er geen punten gevonden zijn. Datatype : categorisch Eenheid : yes/no","title":"lod11_replace"},{"location":"schema/attributes/#ondergronds_type","text":"Ondergronds-classificatie van het pand of panddeel. Datatype : categorisch Eenheid : - Waarden : Waarden Omschrijving floating Pand of panddeel zweeft boven andere objecten. above ground Pand of panddeel is volledig bovengronds. underground Pand of panddeel is volledig ondergronds.","title":"ondergronds_type"},{"location":"schema/attributes/#oorspronkelijk_bouwjaar","text":"De aanduiding van het jaar waarin een pand oorspronkelijk als bouwkundig gereed is of zal worden opgeleverd. Datatype : datum Eenheid : YYYY Bron : BAG. Zie BAG Catalogus","title":"oorspronkelijk_bouwjaar"},{"location":"schema/attributes/#pand_deel_id","text":"Panddeel ID. Een pand kan meerdere delen hebben wanneer het is opgedeeld vanwege ondergrondse delen. Datatype : nominaal getal Eenheid : -","title":"pand_deel_id"},{"location":"schema/attributes/#pw_actueel","text":"Geeft aan of de puntenwolk actueel is ten opzichte van de leeftijd van het pand. Datatype : categorisch Eenheid : - Waarden : Waarden Omschrijving yes De puntenwolk is ingewonnen na de constructiedatum van het pand. no De puntenwolk is ingewonnen voor de constructiedatum van het pand. uncertain De puntenwolk is ingewonnen in hetzelfde jaar als de constructiedatum van het pand.","title":"pw_actueel"},{"location":"schema/attributes/#pw_bron","text":"Bron van de puntenwolk. Datatype : tekst Eenheid : -","title":"pw_bron"},{"location":"schema/attributes/#pw_datum","text":"Inwinningsdatum van de puntenwolk. In het geval van de AHN3 is dit een veronderstelde inwinningsdatum, welke bepaald is als 1 december van het jaar voor het officieel gerapporteerde inwinjaar van een specifieke AHN3-tegel. Datatype : datum Eenheid : YYYY-MM-DD","title":"pw_datum"},{"location":"schema/attributes/#reconstructie_methode","text":"Reconstructiemethode van het gebouwmodel. Datatype : tekst Eenheid : -","title":"reconstructie_methode"},{"location":"schema/attributes/#reconstruction_skipped","text":"Geeft aan of de volledige LoD1.2/LoD1.3/LoD2.2 reconstructie is overgeslagen voor deze feature (en ook LoD1.1 als lod11_replace==false). Datatype : categorisch Eenheid : yes/no","title":"reconstruction_skipped"},{"location":"schema/attributes/#status","text":"De fase van de levenscyclus van een pand, waarin het betreffende pand zich bevindt. Datatype : categorisch Eenheid : - Bron : BAG. Zie BAG Catalogus Waarden : Waarden Omschrijving Bouwvergunning verleend Niet gerealiseerd pand Bouw gestart Pand in gebruik (niet ingemeten) Pand in gebruik Verbouwing pand Sloopvergunning verleend Pand gesloopt Pand buiten gebruik Pand ten onrechte opgevoerd","title":"status"},{"location":"schema/attributes/#tijdstipeindregistratielv","text":"Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus","title":"tijdstipeindregistratielv"},{"location":"schema/attributes/#tijdstipinactief","text":"Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus","title":"tijdstipinactief"},{"location":"schema/attributes/#tijdstipinactieflv","text":"Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus","title":"tijdstipinactieflv"},{"location":"schema/attributes/#tijdstipnietbaglv","text":"Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus","title":"tijdstipnietbaglv"},{"location":"schema/attributes/#tijdstipregistratielv","text":"Dit is het tijdstip waarop een versie van een BAG-object is opgenomen in de registratie van de landelijke voorziening. De gegevens komen daarmee beschikbaar voor afnemers. Datatype : datum-tijd Eenheid : YYYY-MM-DDThh:mm:ss.sss Bron : BAG. Zie BAG Catalogus","title":"tijdstipregistratielv"},{"location":"schema/attributes/#val3dity_codes","text":"Val3dity foutcodes voor het 3D model. Null betekent valide geometry. Datatype : lijst Eenheid : -","title":"val3dity_codes"},{"location":"schema/attributes/#versie_methode","text":"Versie van de reconstructiemethode voor panden. Datatype : tekst Eenheid : -","title":"versie_methode"},{"location":"schema/attributes/#voorkomenidentificatie","text":"Houdt verband met de geschiedenis van de pandregistratie en de versie. Datatype : ordinaal getal Eenheid : - Bron : BAG. Zie BAG Catalogus","title":"voorkomenidentificatie"},{"location":"schema/concepts/","text":"Algemene concepten \u00b6 Level of Detail (LoD) \u00b6 Ruimtelijke modellen zijn altijd een abstractie van de werkelijkheid. In 3D GIS geeft het Level of Detail (LoD) van een 3D model aan welke mate van detail in het model is opgenomen. Neem bijvoorbeeld een zeer simpel huis met vier hoeken en een puntdak. Een ruwe benadering van dit gebouw is een kubus. Een meer gedetailleerde representatie volgt de exacte (dak)vormen van het huis, waarbij de vlakken afzonderlijk identificeerbaar kunnen zijn, zodat er aanvullende informatie toegekend kan worden aan deze vlakken zoals het oppervlaktype, het materiaal etcetera. Deze aanvullende labels heten ook wel semantiek , en derhalve noemen we gelabelde vlakken semantische vlakken . In het geval van gebouwmodellen spreken we bijvoorbeeld over een grondoppervlak , muuroppervlak , dakoppervlak , enzovoort. In de 3D BAG gebruiken we de zogenaamde verfijnde LoD-specificatie , welke in de onderstaande figuur getoond wordt. An improved LOD specification for 3D building models. Filip Biljecki, Hugo Ledoux, and Jantien Stoter. Computers, Environment and Urban Systems, 59: 25\u201337, 2016. DOI Voor de 3D BAG reconstrueren we data op de volgende detailniveaus: 1.2, 1.3 en 2.2. Merk op dat behalve het verschil in de mate van geometrische details, een belangrijk verschil tussen LoD1 en LoD2 de aanwezigheid van semantische oppervlakken is. Deze informatie zorgt er bijvoorbeeld voor dat dak- en muuroppervlakken respectievelijk rood en grijs gevisualiseerd kunnen worden en dat hiermee analyses kunnen orden gedaan. Verder is het verschil tussen LoD1.2 en LoD1.3 dat laatstgenoemde onderscheid maakt tussen significante hoogteverschillen binnen een gebouw, terwijl het gebouw in LoD1.2 een uniforme hoogte heeft. 3D geometrische primitieven \u00b6 In 2D GIS kan de geometrie van objecten worden gerepresenteerd door punten , lijnen , polygonen en variaties hierop. Er zijn standaarden die regels voorschrijven voor deze primitieven, zodat data probleemloos uitgewisseld kan worden (bijvoorbeeld Simple Feature Access ). Voor 3D GIS moeten deze geometrische primitieven en de bijbehorende regels uitgebreid worden naar de derde dimensie. De onderstaande figuur geeft een overzicht van de veelgebruikte primitieven in 3D GIS. 3D primitieven waar val3dity mee omgaat. Zie: Val3dity: validation of 3D GIS primitives according to the international standards. Hugo Ledoux. Open Geospatial Data, Software and Standards 3 (1), 2018, pp. 1. DOI Voor de 3D BAG is de meest relevante primitief de Solid , aangezien we gebouwmodellen als zodanig beschouwen. Dit onderscheid is belangrijk omdat er andere (strictere) regels voor Solids gelden, ten opzichte van andere 3D primitieven. 3D primitieven en dataformaten Niet ieder dataformaat ondersteunt de bovengenoemde 3D primitieven. Dat is eigenlijk zo voor al onze exportformaten, behalve CityJSON. Daarom gebruiken we in deze andere formaten de geometrietypes die het meest gelijkwaardig zijn aan Solids. De PostgreSQL backup is hierbij een bijzonder geval, omdat PostGIS technisch gezien Solids kan opslaan, maar alleen met de SFCGAL-extensie . Om het inladen van de PostgreSQL backup zo makkelijk mogelijk te maken, slaan we de 3D geometrie\u00ebn op als MultiPolygonZ . Valide 3D geometrie\u00ebn \u00b6 De validiteit van geometrie\u00ebn is belangrijk voor het gebruik van de data in toepassingen. Er zijn standaarden die regels defini\u00ebren voor valide 3D objecten. val3dity is een software die 3D primitieven valideert aan de hand van de international standaard ISO19107. We hebben val3dity in ons proces ge\u00efntegreerd, waarmee we ieder 3D model valideren na reconstructie. De gebouwmodellen worden echter individueel gevalideerd tijdens het reconstructieproces, waardoor we geen fouten kunnen detecteren in de interactie tussen verschillende modellen (foutcodes boven de 500). val3dity_codes Het attribuut val3dity_codes geeft de foutcode van een model aan als deze invalide is. val3dity foutcodes. Zie de volledige omschrijving van iedere code in de documentatie van val3dity.","title":"Algemene concepten"},{"location":"schema/concepts/#algemene-concepten","text":"","title":"Algemene concepten"},{"location":"schema/concepts/#level-of-detail-lod","text":"Ruimtelijke modellen zijn altijd een abstractie van de werkelijkheid. In 3D GIS geeft het Level of Detail (LoD) van een 3D model aan welke mate van detail in het model is opgenomen. Neem bijvoorbeeld een zeer simpel huis met vier hoeken en een puntdak. Een ruwe benadering van dit gebouw is een kubus. Een meer gedetailleerde representatie volgt de exacte (dak)vormen van het huis, waarbij de vlakken afzonderlijk identificeerbaar kunnen zijn, zodat er aanvullende informatie toegekend kan worden aan deze vlakken zoals het oppervlaktype, het materiaal etcetera. Deze aanvullende labels heten ook wel semantiek , en derhalve noemen we gelabelde vlakken semantische vlakken . In het geval van gebouwmodellen spreken we bijvoorbeeld over een grondoppervlak , muuroppervlak , dakoppervlak , enzovoort. In de 3D BAG gebruiken we de zogenaamde verfijnde LoD-specificatie , welke in de onderstaande figuur getoond wordt. An improved LOD specification for 3D building models. Filip Biljecki, Hugo Ledoux, and Jantien Stoter. Computers, Environment and Urban Systems, 59: 25\u201337, 2016. DOI Voor de 3D BAG reconstrueren we data op de volgende detailniveaus: 1.2, 1.3 en 2.2. Merk op dat behalve het verschil in de mate van geometrische details, een belangrijk verschil tussen LoD1 en LoD2 de aanwezigheid van semantische oppervlakken is. Deze informatie zorgt er bijvoorbeeld voor dat dak- en muuroppervlakken respectievelijk rood en grijs gevisualiseerd kunnen worden en dat hiermee analyses kunnen orden gedaan. Verder is het verschil tussen LoD1.2 en LoD1.3 dat laatstgenoemde onderscheid maakt tussen significante hoogteverschillen binnen een gebouw, terwijl het gebouw in LoD1.2 een uniforme hoogte heeft.","title":"Level of Detail (LoD)"},{"location":"schema/concepts/#3d-geometrische-primitieven","text":"In 2D GIS kan de geometrie van objecten worden gerepresenteerd door punten , lijnen , polygonen en variaties hierop. Er zijn standaarden die regels voorschrijven voor deze primitieven, zodat data probleemloos uitgewisseld kan worden (bijvoorbeeld Simple Feature Access ). Voor 3D GIS moeten deze geometrische primitieven en de bijbehorende regels uitgebreid worden naar de derde dimensie. De onderstaande figuur geeft een overzicht van de veelgebruikte primitieven in 3D GIS. 3D primitieven waar val3dity mee omgaat. Zie: Val3dity: validation of 3D GIS primitives according to the international standards. Hugo Ledoux. Open Geospatial Data, Software and Standards 3 (1), 2018, pp. 1. DOI Voor de 3D BAG is de meest relevante primitief de Solid , aangezien we gebouwmodellen als zodanig beschouwen. Dit onderscheid is belangrijk omdat er andere (strictere) regels voor Solids gelden, ten opzichte van andere 3D primitieven. 3D primitieven en dataformaten Niet ieder dataformaat ondersteunt de bovengenoemde 3D primitieven. Dat is eigenlijk zo voor al onze exportformaten, behalve CityJSON. Daarom gebruiken we in deze andere formaten de geometrietypes die het meest gelijkwaardig zijn aan Solids. De PostgreSQL backup is hierbij een bijzonder geval, omdat PostGIS technisch gezien Solids kan opslaan, maar alleen met de SFCGAL-extensie . Om het inladen van de PostgreSQL backup zo makkelijk mogelijk te maken, slaan we de 3D geometrie\u00ebn op als MultiPolygonZ .","title":"3D geometrische primitieven"},{"location":"schema/concepts/#valide-3d-geometrieen","text":"De validiteit van geometrie\u00ebn is belangrijk voor het gebruik van de data in toepassingen. Er zijn standaarden die regels defini\u00ebren voor valide 3D objecten. val3dity is een software die 3D primitieven valideert aan de hand van de international standaard ISO19107. We hebben val3dity in ons proces ge\u00efntegreerd, waarmee we ieder 3D model valideren na reconstructie. De gebouwmodellen worden echter individueel gevalideerd tijdens het reconstructieproces, waardoor we geen fouten kunnen detecteren in de interactie tussen verschillende modellen (foutcodes boven de 500). val3dity_codes Het attribuut val3dity_codes geeft de foutcode van een model aan als deze invalide is. val3dity foutcodes. Zie de volledige omschrijving van iedere code in de documentatie van val3dity.","title":"Valide 3D geometrie\u00ebn"},{"location":"schema/layers/","text":"Datalagen \u00b6 De bovenstaande figuur laat het verband zien tussen een gebouw in het echt en hoe het is gemodelleerd en beschikbaar in de 3D BAG. De BAG modelleert gebouwen in 2D als de grootste omtrek, gezien vanaf boven. Dat komt neer op een enkele 2D polygon per gebouw, zoals de zwarte polygoon in de figuur. Om deze reden bevat het BAG-polygoon ook de delen van het gebouw die zich ondergronds bevinden. Om een nauwkeurig model van de bovengrondse delen van een gebouw te maken, snijden we het ondergrondse deel van de BAG-polygoon eraf. We nemen alleen bovengrondse delen mee, aangezien we geen data hebben over de 3D omvang van ondergrondse delen. Voor de bovengrondse delen genereren we vervolgens de 3D modellen in LoD1.2, 1.3 en 2.2. We weten dat het bij sommige toepassingen makkelijker is om 2D polygonen in te lezen, en de informatie over de gebouwhoogte als attributen. Daarom bieden we ook een 2D versie aan voor iedere LoD. Bovendien kan de gebruiker hierdoor kiezen uit de verschillende referentiehoogtes die we berekenen per gebouw. lod11_replace In het geval van kassen en grote magazijnen snijden we geen delen van het BAG-pand, maar nemen we de polygoon zoals die is en genereren we slechts een LoD1.1 model. Dit soort gebouwen hebben dus alleen een LoD1.1 model en zijn gemarkeerd met de attribuutwaarde lod11_replace = true . Bij de 2D modellen representeren de polygonen de 2D projectie van de dakvlakken van het 3D model. Voor LoD1.2 en LoD1.3 kan het 3D model volledig gereconstrueerd worden uit het 2D model, door de 2D polygonen te nemen en elk van deze op te trekken tot een van hun h_dak_* hoogtewaarden vanaf hun hoogte op maaiveld, welke is vastgelegd in h_maaiveld . Echter is dit niet het geval voor de LoD2.2 modellen, omdat deze schuine daken hebben die niet gerepresenteerd kunnen worden door een 2D polygoon en een enkele hoogtewaarde. De 3D BAG heeft 6 geometrische representaties van een BAG-object (een feature ). De 6 representaties zijn de 2D en 3D varianten van de LoD1.2, LoD1.3 en LoD2.2 modellen van de feature. Daarom hebben de BAG-modellen, die zijn opgeslagen in de pand -laag, een feature ID ( fid ), terwijl hun geometrische representaties geometry IDs ( gid ) hebben. Afhankelijk van de representatie kan een enkele feature meerdere geometrie-delen hebben. Sommige gebouwen hebben meerdere niet-verbonden bovengrondse delen, terwijl ze aan elkaar verbonden zijn door bijvoorbeeld een ondergrondse garage. In deze gevallen worden de bovengrondse delen opgedeeld in afzonderlijke modellen met dezelfde fid , en de pand_deel_id kan deze verschillende delen identificeren binnen dezelfde feature. De onderstaande figuur illustreert de relatie tussen de feature en de verschillende bovengrondse geometrie-delen. pand \u00b6 Bevat de attributen en geometrie van het Pand -object van de BAG, plus de attributen van de 3D BAG die verband hebben met het gehele gebouw. Omvat uitsluitend de gebouwen die daadwerkelijk door de reconstructie gegaan zijn. Het attribuut fid is het unieke, numerieke ID van de objecten. Naast dat het de primaire key is, wordt fid ook gebruikt voor het samenvoegen van andere lagen met pand . lod12_3d \u00b6 Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD1.2. Kan samengevoegd worden met pand op fid . lod12_2d \u00b6 De 2D projectie van het LoD1.2 model. De elevatie van de gedetecteerde LoD1.2 dakoppervlakken zijn opgeslagen als hoogteattributen ( h_dak_* ). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met pand op fid . lod13_3d \u00b6 Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD1.3. Kan samengevoegd worden met pand op fid . lod13_2d \u00b6 De 2D projectie van het LoD1.3 model. De elevatie van de gedetecteerde LoD1.3 dakoppervlakken zijn opgeslagen als hoogteattributen ( h_dak_* ). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met pand op fid . lod22_3d \u00b6 Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD2.2. Kan samengevoegd worden met pand op fid . lod22_2d \u00b6 De 2D projectie van het LoD2.2 model. De elevatie van de gedetecteerde LoD2.2 dakoppervlakken zijn opgeslagen als hoogteattributen ( h_dak_* ). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met pand op fid .","title":"Datalagen"},{"location":"schema/layers/#datalagen","text":"De bovenstaande figuur laat het verband zien tussen een gebouw in het echt en hoe het is gemodelleerd en beschikbaar in de 3D BAG. De BAG modelleert gebouwen in 2D als de grootste omtrek, gezien vanaf boven. Dat komt neer op een enkele 2D polygon per gebouw, zoals de zwarte polygoon in de figuur. Om deze reden bevat het BAG-polygoon ook de delen van het gebouw die zich ondergronds bevinden. Om een nauwkeurig model van de bovengrondse delen van een gebouw te maken, snijden we het ondergrondse deel van de BAG-polygoon eraf. We nemen alleen bovengrondse delen mee, aangezien we geen data hebben over de 3D omvang van ondergrondse delen. Voor de bovengrondse delen genereren we vervolgens de 3D modellen in LoD1.2, 1.3 en 2.2. We weten dat het bij sommige toepassingen makkelijker is om 2D polygonen in te lezen, en de informatie over de gebouwhoogte als attributen. Daarom bieden we ook een 2D versie aan voor iedere LoD. Bovendien kan de gebruiker hierdoor kiezen uit de verschillende referentiehoogtes die we berekenen per gebouw. lod11_replace In het geval van kassen en grote magazijnen snijden we geen delen van het BAG-pand, maar nemen we de polygoon zoals die is en genereren we slechts een LoD1.1 model. Dit soort gebouwen hebben dus alleen een LoD1.1 model en zijn gemarkeerd met de attribuutwaarde lod11_replace = true . Bij de 2D modellen representeren de polygonen de 2D projectie van de dakvlakken van het 3D model. Voor LoD1.2 en LoD1.3 kan het 3D model volledig gereconstrueerd worden uit het 2D model, door de 2D polygonen te nemen en elk van deze op te trekken tot een van hun h_dak_* hoogtewaarden vanaf hun hoogte op maaiveld, welke is vastgelegd in h_maaiveld . Echter is dit niet het geval voor de LoD2.2 modellen, omdat deze schuine daken hebben die niet gerepresenteerd kunnen worden door een 2D polygoon en een enkele hoogtewaarde. De 3D BAG heeft 6 geometrische representaties van een BAG-object (een feature ). De 6 representaties zijn de 2D en 3D varianten van de LoD1.2, LoD1.3 en LoD2.2 modellen van de feature. Daarom hebben de BAG-modellen, die zijn opgeslagen in de pand -laag, een feature ID ( fid ), terwijl hun geometrische representaties geometry IDs ( gid ) hebben. Afhankelijk van de representatie kan een enkele feature meerdere geometrie-delen hebben. Sommige gebouwen hebben meerdere niet-verbonden bovengrondse delen, terwijl ze aan elkaar verbonden zijn door bijvoorbeeld een ondergrondse garage. In deze gevallen worden de bovengrondse delen opgedeeld in afzonderlijke modellen met dezelfde fid , en de pand_deel_id kan deze verschillende delen identificeren binnen dezelfde feature. De onderstaande figuur illustreert de relatie tussen de feature en de verschillende bovengrondse geometrie-delen.","title":"Datalagen"},{"location":"schema/layers/#pand","text":"Bevat de attributen en geometrie van het Pand -object van de BAG, plus de attributen van de 3D BAG die verband hebben met het gehele gebouw. Omvat uitsluitend de gebouwen die daadwerkelijk door de reconstructie gegaan zijn. Het attribuut fid is het unieke, numerieke ID van de objecten. Naast dat het de primaire key is, wordt fid ook gebruikt voor het samenvoegen van andere lagen met pand .","title":"pand"},{"location":"schema/layers/#lod12_3d","text":"Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD1.2. Kan samengevoegd worden met pand op fid .","title":"lod12_3d"},{"location":"schema/layers/#lod12_2d","text":"De 2D projectie van het LoD1.2 model. De elevatie van de gedetecteerde LoD1.2 dakoppervlakken zijn opgeslagen als hoogteattributen ( h_dak_* ). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met pand op fid .","title":"lod12_2d"},{"location":"schema/layers/#lod13_3d","text":"Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD1.3. Kan samengevoegd worden met pand op fid .","title":"lod13_3d"},{"location":"schema/layers/#lod13_2d","text":"De 2D projectie van het LoD1.3 model. De elevatie van de gedetecteerde LoD1.3 dakoppervlakken zijn opgeslagen als hoogteattributen ( h_dak_* ). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met pand op fid .","title":"lod13_2d"},{"location":"schema/layers/#lod22_3d","text":"Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD2.2. Kan samengevoegd worden met pand op fid .","title":"lod22_3d"},{"location":"schema/layers/#lod22_2d","text":"De 2D projectie van het LoD2.2 model. De elevatie van de gedetecteerde LoD2.2 dakoppervlakken zijn opgeslagen als hoogteattributen ( h_dak_* ). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met pand op fid .","title":"lod22_2d"}]}