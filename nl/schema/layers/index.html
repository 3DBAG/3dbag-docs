
<!doctype html>
<html lang="nl" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="3D BAG productbeschrijving">
      
      
        <meta name="author" content="3D geoinformation research group">
      
      
        <link rel="canonical" href="https://docs.3dbag.nl/nl/schema/layers/">
      
      <link rel="icon" href="../../assets/images/logo.svg">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.5">
    
    
      
        <title>Datalagen - 3D BAG</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ee0f47ba.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="light-blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#datalagen" class="md-skip">
          Ga naar inhoud
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="3D BAG" class="md-header__button md-logo" aria-label="3D BAG" data-md-component="logo">
      
  <span
    style="color: #333" class="logo-text"
  >3D BAG</a>
  <span
    class="logo-text"
    style="color:#ccc; font-weight:300;"
  >by</span>
  <img 
    class="logo3d"
    width="28"
    height="28" 
    src="../../assets/images/logo.svg" alt="logo"> 
  <a
    href="https://3d.bk.tudelft.nl"
    style="color: #333;" class="logo-text"
  >tudelft3d</a>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            3D BAG
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Datalagen
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="/en/" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/nl/" hreflang="nl" class="md-select__link">
                    Nederlands
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Zoeken" placeholder="Zoeken" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Introductie
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../concepts/" class="md-tabs__link md-tabs__link--active">
        Dataschema
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../delivery/webservices/" class="md-tabs__link">
        Dataformaten
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../copyright/" class="md-tabs__link">
      Gebruiksvoorwaarden
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../contact/" class="md-tabs__link">
      Contact
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://3dbag.nl/nl/viewer" class="md-tabs__link">
      Viewer <svg style="width:16px;height:16px" viewBox="-3 -3 24 24"> <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" /></svg>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://3dbag.nl/nl/download" class="md-tabs__link">
      Downloads <svg style="width:16px;height:16px" viewBox="-3 -3 24 24"> <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" /></svg>
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="3D BAG" class="md-nav__button md-logo" aria-label="3D BAG" data-md-component="logo">
      
  <span
    style="color: #333" class="logo-text"
  >3D BAG</a>
  <span
    class="logo-text"
    style="color:#ccc; font-weight:300;"
  >by</span>
  <img 
    class="logo3d"
    width="28"
    height="28" 
    src="../../assets/images/logo.svg" alt="logo"> 
  <a
    href="https://3d.bk.tudelft.nl"
    style="color: #333;" class="logo-text"
  >tudelft3d</a>

    </a>
    3D BAG
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Introductie
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introductie" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introductie
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overzicht
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/sources/" class="md-nav__link">
        Databronnen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/group/" class="md-nav__link">
        Over ons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/media/" class="md-nav__link">
        In de media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/release_notes/" class="md-nav__link">
        Release-opmerkingen
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Dataschema
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dataschema" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Dataschema
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        Algemene concepten
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Datalagen
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Datalagen
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Inhoudsopgave">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhoudsopgave
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#berekening-van-hoogtes" class="md-nav__link">
    Berekening van hoogtes
  </a>
  
    <nav class="md-nav" aria-label="Berekening van hoogtes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hoogtes-in-de-2d-vs-3d-lagen" class="md-nav__link">
    Hoogtes in de 2D vs 3D lagen
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ondergrond" class="md-nav__link">
    ondergrond
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pand" class="md-nav__link">
    pand
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod12_3d" class="md-nav__link">
    lod12_3d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod12_2d" class="md-nav__link">
    lod12_2d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod13_3d" class="md-nav__link">
    lod13_3d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod13_2d" class="md-nav__link">
    lod13_2d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod22_3d" class="md-nav__link">
    lod22_3d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod22_2d" class="md-nav__link">
    lod22_2d
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../attributes/" class="md-nav__link">
        Data-attributen
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Dataformaten
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dataformaten" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Dataformaten
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../delivery/webservices/" class="md-nav__link">
        Webservices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../delivery/gpkg/" class="md-nav__link">
        GeoPackage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../delivery/cityjson/" class="md-nav__link">
        CityJSON
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../delivery/postgresql/" class="md-nav__link">
        PostgreSQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../delivery/obj/" class="md-nav__link">
        Wavefront OBJ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../copyright/" class="md-nav__link">
        Gebruiksvoorwaarden
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://3dbag.nl/nl/viewer" class="md-nav__link">
        Viewer <svg style="width:16px;height:16px" viewBox="-3 -3 24 24"> <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" /></svg>
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://3dbag.nl/nl/download" class="md-nav__link">
        Downloads <svg style="width:16px;height:16px" viewBox="-3 -3 24 24"> <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" /></svg>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhoudsopgave">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhoudsopgave
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#berekening-van-hoogtes" class="md-nav__link">
    Berekening van hoogtes
  </a>
  
    <nav class="md-nav" aria-label="Berekening van hoogtes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hoogtes-in-de-2d-vs-3d-lagen" class="md-nav__link">
    Hoogtes in de 2D vs 3D lagen
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ondergrond" class="md-nav__link">
    ondergrond
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pand" class="md-nav__link">
    pand
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod12_3d" class="md-nav__link">
    lod12_3d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod12_2d" class="md-nav__link">
    lod12_2d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod13_3d" class="md-nav__link">
    lod13_3d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod13_2d" class="md-nav__link">
    lod13_2d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod22_3d" class="md-nav__link">
    lod22_3d
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lod22_2d" class="md-nav__link">
    lod22_2d
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<h1 id="datalagen">Datalagen<a class="headerlink" href="#datalagen" title="Permanent link">&para;</a></h1>
<p><img alt="3dbag_layers" src="../../images/3d_bag_layers_nl.png" width="100%" /></p>
<p>De bovenstaande figuur laat het verband zien tussen een gebouw in het echt en hoe het is gemodelleerd en beschikbaar in de 3D BAG. De BAG modelleert gebouwen in 2D als de grootste omtrek, gezien vanaf boven. Dat komt neer op een enkele 2D polygon per gebouw, zoals de zwarte polygoon in de figuur. Om deze reden bevat het <strong>BAG-polygoon</strong> ook de delen van het gebouw die zich ondergronds bevinden.</p>
<p>Om een nauwkeurig model van de <span style="color:#24a1c8ff"><strong>bovengrondse</strong></span> delen van een gebouw te maken, snijden we het <span style="color:#ff0000ff"><strong>ondergrondse</strong></span> deel van de BAG-polygoon eraf. We nemen alleen bovengrondse delen mee, aangezien we geen data hebben over de 3D omvang van ondergrondse delen.</p>
<p>Voor de bovengrondse delen genereren we vervolgens de 3D modellen in LoD1.2, 1.3 en 2.2. We weten dat het bij sommige toepassingen makkelijker is om 2D polygonen in te lezen, en de informatie over de gebouwhoogte als attributen. Daarom bieden we ook een 2D versie aan voor iedere LoD. Bovendien kan de gebruiker hierdoor kiezen uit de verschillende referentiehoogtes die we berekenen per gebouw.</p>
<div class="admonition note">
<p class="admonition-title">lod11_replace</p>
<p>In het geval van kassen en grote magazijnen snijden we geen delen van het BAG-pand, maar nemen we de polygoon zoals die is en genereren we slechts een LoD1.1 model. Dit soort gebouwen hebben dus alleen een LoD1.1 model en zijn gemarkeerd met de attribuutwaarde <code>lod11_replace = true</code>.</p>
</div>
<p>Bij de 2D modellen representeren de polygonen de 2D projectie van de dakvlakken van het 3D model. Voor LoD1.2 en LoD1.3 kan het 3D model volledig gereconstrueerd worden uit het 2D model, door de 2D polygonen te nemen en elk van deze op te trekken tot een van hun <a href="../attributes/#h_dak_50p"><code>h_dak_*</code></a> hoogtewaarden vanaf hun hoogte op maaiveld, welke is vastgelegd in <a href="../attributes/#h_maaiveld">h_maaiveld</a>. Echter is dit niet het geval voor de LoD2.2 modellen, omdat deze schuine daken hebben die niet gerepresenteerd kunnen worden door een 2D polygoon en een enkele hoogtewaarde.</p>
<p>De 3D BAG heeft 6 geometrische representaties van een BAG-object (een <em>feature</em>). De 6 representaties zijn de 2D en 3D varianten van de LoD1.2, LoD1.3 en LoD2.2 modellen van de feature. Daarom hebben de BAG-modellen, die zijn opgeslagen in de <code>pand</code>-laag, een <em>feature ID</em> (<a href="../attributes/#fid"><code>fid</code></a>), terwijl hun geometrische representaties <em>geometry IDs</em> (<a href="../attributes/#gid"><code>gid</code></a>) hebben. Afhankelijk van de representatie kan een enkele feature meerdere geometrie-delen hebben.</p>
<p>Sommige gebouwen hebben meerdere niet-verbonden bovengrondse delen, terwijl ze aan elkaar verbonden zijn door bijvoorbeeld een ondergrondse garage. In deze gevallen worden de bovengrondse delen opgedeeld in afzonderlijke modellen met dezelfde <code>fid</code>, en de <a href="../attributes/#pand_deel_id"><code>pand_deel_id</code></a> kan deze verschillende delen identificeren binnen dezelfde feature.</p>
<p>De onderstaande figuur illustreert de relatie tussen de <strong>feature</strong> en de verschillende <span style="color:#24a1c8ff"><strong>bovengrondse</strong></span> geometrie-delen.</p>
<p><img alt="3dbag_ref" src="../../../images_common/3d_bag_layers_reference.png" width="100%" /></p>
<h2 id="berekening-van-hoogtes">Berekening van hoogtes<a class="headerlink" href="#berekening-van-hoogtes" title="Permanent link">&para;</a></h2>
<p>Elke LoD van een gebouw in de 3D BAG heeft een maaiveld hoogte (<code>h_maaiveld</code>) en een of meerdere dag hoogtes (<code>h_dak_*</code>). Alle hoogtes zijn gegeven in EPSG:7415.</p>
<p>De maaiveld hoogte is bepaald as het 5e hoogte percentiel van alle AHN punten binnen een straal van 4 meter rondom het BAG polygon van het gebouw.</p>
<p>De dak hoogtes (<a href="../attributes/#h_dak_50p"><code>h_dak_*</code></a>) zijn berekend uit de AHN punten waaruit dakvlakken zijn getecteerd. Per dakvlak berekenen we altijd het 0e (minimum), 50e (mediaan), 70e, en 100e (maximum)  percentiel. <a href="../attributes/#h_dak_50p"><code>h_dak_50p</code></a> is bijvoorbeeld berekend als de mediaan van deze punten. De figuur hieronder laat zien welke dak punten er worden gedetecteerd. Merk op dat gevel punten dus niet meegenomen worden in deze berekeningen.</p>
<figure>
  <a href="../../../images_common/roof_points.png">
    <img src="../../../images_common/roof_points.png" />
  </a>
  <figcaption>Illustratie van de gedetecteerde dak punten (rood) en muur punten (grijs).</figcaption>
</figure>

<h3 id="hoogtes-in-de-2d-vs-3d-lagen">Hoogtes in de 2D vs 3D lagen<a class="headerlink" href="#hoogtes-in-de-2d-vs-3d-lagen" title="Permanent link">&para;</a></h3>
<p>Voor de 2D lagen zijn de hoogtes altijd gegeven als attribuut per gemodelleerd dakdeel zoals hierboven beschreven.</p>
<p>Voor de 3D lagen zijn de hoogtes niet gegeven als attributen omdat ze al expliciet zijn gemodelleerd in de 3D geometrie van het model. Voor de LoD1.2 en LoD1.3 lagen (waar ieder dakdeel op een constante hoogte is gemodelleerd) is het 70e percentiel gebruikt voor de extrusie.  In de LoD2.2 3D (<code>lod22_3d</code>) laag zijn de daken direkt met de dakvlakken gemodelleerd zoals die in de AHN puntenwolk gedetecteerd zijn.</p>
<div class="admonition note">
<p class="admonition-title">Hoogtes klikken in de 3D webviewer</p>
<p>Als je op een gebouw in onze 3D webviewer klikt, zal er een links onder in het scherm een hoogte getoond worden. Dit is de hoogte gemeten vanaf het maaiveld rondom het gebouw, oftewel <code>h_maaiveld</code> is hier al vanaf getrokken.</p>
</div>
<!-- start layers (DO NOT REMOVE THIS MARKER AND DO NOT EDIT THE TEXT BELOW. SEE README.) -->
<h2 id="ondergrond"><code>ondergrond</code><a class="headerlink" href="#ondergrond" title="Permanent link">&para;</a></h2>
<p>De ondergrondse delen van een BAG-polygoon die zijn verwijderd tijdens de reconstructie van de LoD1.2-, LoD1.3- en LoD2.2-modellen.</p>
<h2 id="pand"><code>pand</code><a class="headerlink" href="#pand" title="Permanent link">&para;</a></h2>
<p>Bevat de attributen en geometrie van het <code>Pand</code>-object van de BAG, plus de attributen van de 3D BAG die verband hebben met het gehele gebouw. Omvat uitsluitend de gebouwen die daadwerkelijk door de reconstructie gegaan zijn. Het attribuut <code>fid</code> is het unieke, numerieke ID van de objecten. Naast dat het de primaire <em>key</em> is, wordt <code>fid</code> ook gebruikt voor het samenvoegen van andere lagen met <code>pand</code>.</p>
<h2 id="lod12_3d"><code>lod12_3d</code><a class="headerlink" href="#lod12_3d" title="Permanent link">&para;</a></h2>
<p>Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD1.2. Kan samengevoegd worden met <code>pand</code> op <code>fid</code>.</p>
<h2 id="lod12_2d"><code>lod12_2d</code><a class="headerlink" href="#lod12_2d" title="Permanent link">&para;</a></h2>
<p>De 2D projectie van het LoD1.2 model. De elevatie van de gedetecteerde LoD1.2 dakoppervlakken zijn opgeslagen als hoogteattributen (<a href="../attributes/#h_dak_50p"><code>h_dak_*</code></a>). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met <code>pand</code> op <code>fid</code>.</p>
<h2 id="lod13_3d"><code>lod13_3d</code><a class="headerlink" href="#lod13_3d" title="Permanent link">&para;</a></h2>
<p>Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD1.3. Kan samengevoegd worden met <code>pand</code> op <code>fid</code>.</p>
<h2 id="lod13_2d"><code>lod13_2d</code><a class="headerlink" href="#lod13_2d" title="Permanent link">&para;</a></h2>
<p>De 2D projectie van het LoD1.3 model. De elevatie van de gedetecteerde LoD1.3 dakoppervlakken zijn opgeslagen als hoogteattributen (<a href="../attributes/#h_dak_50p"><code>h_dak_*</code></a>). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met <code>pand</code> op <code>fid</code>.</p>
<h2 id="lod22_3d"><code>lod22_3d</code><a class="headerlink" href="#lod22_3d" title="Permanent link">&para;</a></h2>
<p>Een 3D model van de bovengrondse gebouwdelen, gemodelleerd in LoD2.2. Kan samengevoegd worden met <code>pand</code> op <code>fid</code>.</p>
<h2 id="lod22_2d"><code>lod22_2d</code><a class="headerlink" href="#lod22_2d" title="Permanent link">&para;</a></h2>
<p>De 2D projectie van het LoD2.2 model. De elevatie van de gedetecteerde LoD2.2 dakoppervlakken zijn opgeslagen als hoogteattributen (<a href="../attributes/#h_dak_50p"><code>h_dak_*</code></a>). Alleen de bovengrondse delen van de BAG-voetafdruk zijn meegenomen. Kan samengevoegd worden met <code>pand</code> op <code>fid</code>.</p>
<!-- end layers (DO NOT REMOVE THIS MARKER) -->

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../concepts/" class="md-footer__link md-footer__link--prev" aria-label="Vorige: Algemene concepten" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Vorige
              </span>
              Algemene concepten
            </div>
          </div>
        </a>
      
      
        
        <a href="../attributes/" class="md-footer__link md-footer__link--next" aria-label="Volgende: Data-attributen" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Volgende
              </span>
              Data-attributen
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://3dbag.nl">Copyright &copy; 2021 - 3D BAG</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://3d.bk.tudelft.nl/">3D geoinformation research group</a> is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"></a></p>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://twitter.com/tudelft3d" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://github.com/tudelft3d" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant"], "translations": {"clipboard.copy": "Kopi\u00ebren naar klembord", "clipboard.copied": "Gekopieerd naar klembord", "search.config.lang": "nl", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Zoeken", "search.result.placeholder": "Typ om te beginnen met zoeken", "search.result.none": "Geen overeenkomende documenten", "search.result.one": "1 overeenkomende document", "search.result.other": "# overeenkomende documenten", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b6ff8c07.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.5e13d264.min.js"></script>
      
    
  </body>
</html>